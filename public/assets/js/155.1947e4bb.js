(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{488:function(t,a,e){"use strict";e.r(a);var r=e(0),v=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"react-redux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-redux"}},[t._v("#")]),t._v(" react-redux")]),t._v(" "),e("blockquote",[e("p",[t._v("flux on react = react-redux")])]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#数据流动"}},[t._v("数据流动")])]),e("li",[e("a",{attrs:{href:"#api"}},[t._v("API")])]),e("li",[e("a",{attrs:{href:"#middlewares"}},[t._v("middlewares")]),e("ul",[e("li",[e("a",{attrs:{href:"#格式"}},[t._v("格式")])]),e("li",[e("a",{attrs:{href:"#异步"}},[t._v("异步")])]),e("li",[e("a",{attrs:{href:"#轮训"}},[t._v("轮训")])])])]),e("li",[e("a",{attrs:{href:"#router"}},[t._v("Router")])]),e("li",[e("a",{attrs:{href:"#文件夹结构"}},[t._v("文件夹结构")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"数据流动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据流动"}},[t._v("#")]),t._v(" 数据流动")]),t._v(" "),e("ol",[e("li",[t._v("dom触发，"),e("code",[t._v("dispatch action")])]),t._v(" "),e("li",[t._v("被"),e("code",[t._v("redcuer")]),t._v("捕获")]),t._v(" "),e("li",[e("code",[t._v("reducer")]),t._v("修改"),e("code",[t._v("store")])]),t._v(" "),e("li",[t._v("组件获取"),e("code",[t._v("store")]),t._v("数据，修改本身")])]),t._v(" "),e("h2",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),e("ul",[e("li",[t._v("subscribe - 监听"),e("code",[t._v("store")]),t._v("的变化。\n"),e("blockquote",[e("p",[t._v("没看这本书之前，我的确不知道还有这个东西")])])])]),t._v(" "),e("h2",{attrs:{id:"middlewares"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#middlewares"}},[t._v("#")]),t._v(" middlewares")]),t._v(" "),e("p",[t._v("中间件。数据流动的流程图不能满足需求。")]),t._v(" "),e("p",[t._v("我们需要的是通过监听"),e("code",[t._v("actions")]),t._v("，然后修改"),e("code",[t._v("actions")]),t._v("。（这就是中间件的原理）")]),t._v(" "),e("p",[e("strong",[t._v("对文中多个中间件的串连如何起作用存有疑惑...，主要是对其现有顺序有点疑惑。")])]),t._v(" "),e("h3",{attrs:{id:"格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#格式"}},[t._v("#")]),t._v(" 格式")]),t._v(" "),e("p",[t._v("中间件格式比较固定。为")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("middlewares")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("store")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("next")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" action\n")])])]),e("p",[t._v("运用了"),e("code",[t._v("currying")]),t._v("。分别代表当前"),e("code",[t._v("store")]),t._v("，下一个中间件（当前中间件处理完成之后，交给下一个中间件），以及"),e("code",[t._v("dispatch")]),t._v("的"),e("code",[t._v("action")]),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("这里需要注意store以及next")])]),t._v(" "),e("p",[t._v("因为交付给下一步进行处理，可以通过"),e("code",[t._v("next")]),t._v("也可以通过"),e("code",[t._v("store.dispatch")]),t._v("。区别在于如果"),e("code",[t._v("next")]),t._v("是进入了下一个中间件，而"),e("code",[t._v("store.dispatch")]),t._v("而是会重新发起"),e("code",[t._v("action")]),t._v("，可能让中间件的串联重新开始。"),e("strong",[t._v("没有好坏对错，只是有这样的需求。")])]),t._v(" "),e("h3",{attrs:{id:"异步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异步"}},[t._v("#")]),t._v(" 异步")]),t._v(" "),e("p",[t._v("如果不通过中间件。")]),t._v(" "),e("p",[t._v("异步的写法就是在触发一个异步的"),e("code",[t._v("action")]),t._v("。然后在异步完成之后再一次触发另外一个"),e("code",[t._v("action")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"轮训"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#轮训"}},[t._v("#")]),t._v(" 轮训")]),t._v(" "),e("p",[t._v("提到了如何实现轮训。")]),t._v(" "),e("h2",{attrs:{id:"router"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#router"}},[t._v("#")]),t._v(" Router")]),t._v(" "),e("p",[t._v("主要是要保证"),e("code",[t._v("view")]),t._v("和"),e("code",[t._v("url")]),t._v("同步。")]),t._v(" "),e("p",[t._v("将组件理解为函数就可以明白"),e("code",[t._v("router")]),t._v("的原理。路由的变化然后我们渲染响应的组件。")]),t._v(" "),e("h2",{attrs:{id:"文件夹结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件夹结构"}},[t._v("#")]),t._v(" 文件夹结构")]),t._v(" "),e("p",[t._v("如果和解决引入"),e("code",[t._v("redux")]),t._v("之后和原本的文件夹结构。")]),t._v(" "),e("p",[t._v("不太喜欢文中的处理方式。只适合部分情况。")]),t._v(" "),e("p",[t._v("还是喜欢放在一个store文件夹进行管理。")])])}),[],!1,null,null,null);a.default=v.exports}}]);