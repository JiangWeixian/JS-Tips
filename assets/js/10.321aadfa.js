(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{240:function(t,a,s){t.exports=s.p+"assets/img/prototypeandconstructor.ff99b452.png"},408:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"proto-prototype-constructor-new"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#proto-prototype-constructor-new"}},[t._v("#")]),t._v(" proto && prototype && constructor && new")]),t._v(" "),n("blockquote",[n("p",[t._v("正确继承情况下，子类设置方法或者属性(指的是赋值或者替换，引用类型内部数据修改还是会的)不会添加到父类。"),n("code",[t._v("__proto__")]),t._v("和"),n("code",[t._v("prototye")]),t._v("区别在于前者才有我们所说的指向功能。")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#proto--prototype--constructor--new"}},[t._v("proto && prototype && constructor && new")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#faq"}},[t._v("FAQ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#proto--prototype-%E8%BF%9B%E4%B8%80%E6%AD%A5"}},[n("code",[t._v("proto && prototype")]),t._v(" 进一步")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#__proto__%E6%8C%87%E5%90%91"}},[n("code",[t._v("__proto__")]),t._v("指向")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#construtor-%E6%8C%87%E5%90%91"}},[n("code",[t._v("construtor")]),t._v("指向")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#%E7%B1%BB---new%E5%85%B3%E9%94%AE%E5%AD%97"}},[t._v("类 - new关键字")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#%E7%BB%A7%E6%89%BF---objectcreate%E5%B9%B2%E4%BA%86%E4%BB%80%E4%B9%88"}},[t._v("继承 - Object.create干了什么")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E7%BB%A7%E6%89%BF---prototype%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97"}},[t._v("继承 - prototype操作指南")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#%E5%88%86%E6%9E%90%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E5%A4%9F%E7%BB%A7%E6%89%BF"}},[t._v("分析为什么能够继承？")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E7%95%AA%E5%A4%96---%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7"}},[t._v("番外 - 私有属性")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#%E6%80%BB%E7%BB%93"}},[t._v("总结")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#%E9%93%BE%E6%8E%A5"}},[t._v("链接")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#%E5%86%85%E5%BB%BA%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"}},[t._v("内建数据类型")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E5%86%85%E5%BB%BA%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B---prototype"}},[t._v("内建数据类型 - prototype")])])])])]),t._v(" "),n("h2",{attrs:{id:"faq"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("这三个数值怎么查看？")]),t._v(" "),n("p",[t._v("以"),n("code",[t._v("var a = {}")]),t._v("以及"),n("code",[t._v("function Foo() {}")]),t._v("两种方式举例。")]),t._v(" "),n("p",[n("code",[t._v("var a = {}")]),t._v("而"),n("code",[t._v("a")]),t._v("结构为(要记住)")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("data\n__proto__\n  constructor\n    prototype\n      constructor\n      __proto__\n    __proto__\n")])])]),n("p",[n("code",[t._v("function Foo () {}")]),t._v("可以通过"),n("code",[t._v("Foo.__proto__ or prototype or constructor")]),t._v("推断")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("data\n__proto__\n  constructor\n    prototype\n    __proto__\nprototype\n  constructor\n  __proto__\n")])])]),n("p",[t._v("可以发现三者之间的结构关系。而且这里的"),n("code",[t._v("data")]),t._v("指的是"),n("code",[t._v("this")]),t._v("上面的数据。")]),t._v(" "),n("p",[n("code",[t._v("var foo = new Foo()")]),t._v(", 详细见 "),n("a",{attrs:{href:"#%E7%B1%BB---new%E5%85%B3%E9%94%AE%E5%AD%97"}},[t._v("类 - new关键字")])])]),t._v(" "),n("li",[n("p",[n("code",[t._v("prototype")]),t._v("存在哪里？")]),t._v(" "),n("p",[n("code",[t._v("prototype")]),t._v("存在在"),n("code",[t._v("construtor")]),t._v("内，而"),n("code",[t._v("construtor")]),t._v("存在在"),n("code",[t._v("__proto__")]),t._v("内。"),n("strong",[t._v("可以先看"),n("a",{attrs:{href:"#%E7%B1%BB---new%E5%85%B3%E9%94%AE%E5%AD%97"}},[t._v("类 - new关键字")]),t._v("做了什么")]),t._v(" 可以发现在"),n("code",[t._v("new")]),t._v("关键字内部创建了一个临时对象"),n("code",[t._v("var a = {}")]),t._v("并返回了"),n("code",[t._v("a")]),t._v("。参考上诉"),n("code",[t._v("a")]),t._v("的结构。")]),t._v(" "),n("p",[t._v("可总结"),n("code",[t._v("__proto__")]),t._v("包含"),n("code",[t._v("construtor")]),t._v(", "),n("code",[t._v("construtor包含``prototype")]),t._v("。而这仅仅是一层次关系，因为"),n("code",[t._v("prototype")]),t._v(" "),n("strong",[t._v("包含 "),n("code",[t._v("__proto__")]),t._v(" && "),n("code",[t._v("construtor")])])]),t._v(" "),n("p",[t._v("上一条意味着如果进行"),n("code",[t._v("xx.construtor")]),t._v("。是要在"),n("code",[t._v("__proto__")]),t._v("上面查找，因为"),n("code",[t._v("xx")]),t._v("本身是没有这个属性的。但是"),n("code",[t._v("xx.prototype.constructor")]),t._v("就明确了查找位置。")])]),t._v(" "),n("li",[n("p",[t._v("什么是原型？")]),t._v(" "),n("ul",[n("li",[t._v("JS中有"),n("router-link",{attrs:{to:"/docs/Grammar/JS-基本类型-值类型.html"}},[t._v("几大数据类型")]),t._v("，这些就是原型(至于这些数据类型又指向"),n("code",[t._v("Object")]),t._v(")就是另外一回事。")],1),t._v(" "),n("li",[t._v("原型 = "),n("code",[t._v("Number or String etc...")]),t._v("或者另外语义中的抽象类, 可以被"),n("code",[t._v("new")]),t._v("的对象。")])])]),t._v(" "),n("li",[n("p",[t._v("引用类型。特别涉及到"),n("code",[t._v("__proto__ && prototype && construtor")]),t._v("的时候，可以理解为指针。那么其中任意一个赋值都不是简单的赋值，而是引用类型。")])])]),t._v(" "),n("h2",{attrs:{id:"proto-prototype-进一步"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#proto-prototype-进一步"}},[t._v("#")]),t._v(" "),n("code",[t._v("proto && prototype")]),t._v(" 进一步")]),t._v(" "),n("h3",{attrs:{id:"proto-指向"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#proto-指向"}},[t._v("#")]),t._v(" "),n("code",[t._v("__proto__")]),t._v("指向")]),t._v(" "),n("blockquote",[n("p",[n("code",[t._v("__proto__")]),t._v("永远指向的是"),n("code",[t._v("object.prototype")]),t._v("至于这个"),n("code",[t._v("object")]),t._v(", 这个"),n("code",[t._v("object")]),t._v("可以理解为抽象类或者未实例的对象")])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nFoo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),n("p",[t._v("实例对象可分为2种情况举例：")]),t._v(" "),n("p",[n("strong",[t._v("第1种情况：类以及"),n("code",[t._v("new")])])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("结合"),n("a",{attrs:{href:"#%E7%B1%BB---new%E5%85%B3%E9%94%AE%E5%AD%97"}},[t._v("类 - new关键字")]),t._v("中结构分析，可以得到"),n("code",[t._v("foo")]),t._v("结构如下：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 来自Foo函数内部属性")]),t._v("\n__proto__\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 来自Foo的prototype")]),t._v("\n  constructor\n  __proto__\n")])])]),n("p",[t._v("则"),n("code",[t._v("foo.__proto__ === Foo.prototype // true")])]),t._v(" "),n("p",[n("strong",[t._v("第2种情况：继承")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myName")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or Bar.prototype = new Foo()")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("speak")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bar "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("code",[t._v("Foo")]),t._v("的结构")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("data\n__proto__\n  prototype\n    myName\n    construtor\n    __proto__\n")])])]),n("p",[t._v("结合"),n("a",{attrs:{href:"#%E7%BB%A7%E6%89%BF---objectcreate%E5%B9%B2%E4%BA%86%E4%BB%80%E4%B9%88"}},[t._v("继承 - Object.create干了什么")]),t._v("。我们可以得到"),n("code",[t._v("Object.create(Foo.prototype)")]),t._v("执行结果为(也是"),n("code",[t._v("Bar.prototype")]),t._v("的结构):")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("__proto__\n  // 来自F.prototype，然后F.prototype又等于Foo.prototype。\n  // 所以以下来自Foo.prototype\n  myName\n  construtor\n  __proto__\n")])])]),n("p",[t._v("添加了"),n("code",[t._v("speak")]),t._v("(不会再父类上添加)，之后变为:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("speak\n__proto__\n  // 来自F.prototype，然后F.prototype又等于Foo.prototype。\n  // 所以以下来自Foo.prototype\n  myName\n  construtor\n  __proto__\n")])])]),n("p",[t._v("经过了"),n("code",[t._v("new Bar()")]),t._v("返回结果为：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("name\nlabel\n__proto__\n  // 来自Bar.prototype\n  speak\n  __proto__\n    // 来自F.prototype，然后F.prototype又等于Foo.prototype。\n    // 所以以下来自Foo.prototype\n    myName\n    construtor\n    __proto__\n")])])]),n("p",[t._v("所以"),n("code",[t._v("bar.__proto__ = Bar.prototype and bar.__proto__ != Foo.prototype")])]),t._v(" "),n("p",[t._v("因此指向原型(见上一条,第三第五点)，更准确的说是"),n("code",[t._v("原型.prototype")]),t._v("。(原型指的是未实例化的对象)")]),t._v(" "),n("h3",{attrs:{id:"construtor指向"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#construtor指向"}},[t._v("#")]),t._v(" "),n("code",[t._v("construtor")]),t._v("指向")]),t._v(" "),n("p",[t._v("由"),n("a",{attrs:{href:"#faq"}},[t._v("FAQ")]),t._v("，可以发现"),n("code",[t._v("var a = {} and function foo () {}")]),t._v("有点不同。但是共同特点是，"),n("strong",[t._v("construtor并不存在于a or foo直接属性上。")]),t._v(" a中存在于"),n("code",[t._v("__proto__.construtor")]),t._v("，在"),n("code",[t._v("foo")]),t._v("中可以存在于"),n("code",[t._v("__proto__.construtor and prototype.construtor")])]),t._v(" "),n("p",[n("strong",[t._v("第1种情况")])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\na"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("construtor "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// = object")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 依据在__proto__上寻找规则。应当为foo.__proto__.construtor。此时为 Function")]),t._v("\nFoo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("construtor \n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("construtor "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// = Foo")]),t._v("\n")])])]),n("p",[n("strong",[t._v("第2种情况 - new")])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("其中"),n("code",[t._v("foo")]),t._v("结构为：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("data\n__proto__\n  // 来自Foo.prototype\n  constructor\n  __proto__\n")])])]),n("p",[t._v("所以"),n("code",[t._v("foo.constructor = foo.__proto__.constructor = Foo.prototype.construtor // Foo")])]),t._v(" "),n("p",[n("strong",[t._v("第2种情况 - Object.create")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myName")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or Bar.prototype = new Foo()")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("speak")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bar "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("此时"),n("code",[t._v("bar")]),t._v("结构为")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("name\nlabel "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 来自 Bar")]),t._v("\n__proto__\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//来自Bar.prototype")]),t._v("\n  speak\n  __proto__\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//来自F.prototype = Foo.prototype")]),t._v("\n    myName\n    constructor\n    __proto__\n")])])]),n("p",[t._v("因此"),n("code",[t._v("bar.constructor = bar.__proto__.__proto__.constructor = Foo.prototype.constructor")])]),t._v(" "),n("h2",{attrs:{id:"类-new关键字"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#类-new关键字"}},[t._v("#")]),t._v(" 类 - new关键字")]),t._v(" "),n("blockquote",[n("p",[t._v("首先要知道对象中"),n("code",[t._v("(proto&prototype&constructor)")]),t._v("位置信息。"),n("code",[t._v("__proto__>constructor>prototype>(__proto__+constructor)")])])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("new关键字"),n("OutboundLink")],1),t._v("到底做了什么?")]),t._v(" "),n("blockquote",[n("p",[t._v("而在 《Javascript设计模式和开发实践》 中提到JavaScript 的函数既可以作为普通函数被调用,也可以作为构造器被调用。"),n("strong",[t._v("当使用new运算符来调用函数时,此时的函数就是一个构造器。")])])]),t._v(" "),n("p",[t._v("更为具体例子可以看"),n("a",{attrs:{href:"https://juejin.im/post/584e1ac50ce463005c618ca2",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),n("OutboundLink")],1),t._v("，我截了个图关键部分：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(91),alt:"new干了什么"}})]),t._v(" "),n("p",[t._v("因此，设临时对象为"),n("code",[t._v("A")]),t._v("，以及士兵为"),n("code",[t._v("B")]),t._v("。")]),t._v(" "),n("p",[n("code",[t._v("A")]),t._v("结构原本是:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("data\n__proto__\n  constructor\n    prototype\n      construtor\n      __proto__\n")])])]),n("p",[n("code",[t._v("B.prototype")]),t._v("结构原本是:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("prototype\n  一些定义在上面的方法\n  construtor\n  __proto__\n")])])]),n("p",[t._v("经过了"),n("code",[t._v("new")]),t._v("操作。现在")]),t._v(" "),n("p",[n("code",[t._v("A")]),t._v("结构是:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("data\n__proto__\n  一些定义在上面的方法\n  construtor\n  __proto__\n")])])]),n("p",[t._v("这就是为什么"),n("code",[t._v("var A = new B(20);")]),t._v("之后，控制台中只有"),n("code",[t._v("A.__proto__")]),t._v("。"),n("code",[t._v("new")]),t._v("关键字将一个"),n("code",[t._v("__proto__")]),t._v("替换为了原型的"),n("code",[t._v("prototype")]),t._v("内部的存储的内容。")]),t._v(" "),n("p",[t._v("现在在"),n("code",[t._v("A")]),t._v("上找方法就会去"),n("code",[t._v("__proto__")]),t._v("上面寻找，也就是"),n("code",[t._v("B.prototype")])]),t._v(" "),n("h2",{attrs:{id:"继承-object-create干了什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#继承-object-create干了什么"}},[t._v("#")]),t._v(" 继承 - Object.create干了什么")]),t._v(" "),n("p",[n("code",[t._v("Object.create")]),t._v("内部具体结构如下:")]),t._v(" "),n("div",{staticClass:"language-Javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object create。传递参数是一个原型或者原型.prototype")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所以之前总结prototype的结论应该没有问题")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("F")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("F")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("F")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("继承形式一般"),n("code",[t._v("Bar.prototype = Object.create(Foo.prototype)")])]),t._v(" "),n("p",[t._v("结合"),n("a",{attrs:{href:"#%E7%B1%BB---new%E5%85%B3%E9%94%AE%E5%AD%97"}},[t._v("类 - new关键字")]),t._v("可以得到"),n("code",[t._v("new F()")]),t._v("得到对象结构为：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("__proto__\n  // 以下来自F.prototype，然后F.prototype又等于Foo.prototype。\n  // 所以以下来自Foo.prototype\n  construtor\n  __proto__\n")])])]),n("h3",{attrs:{id:"继承-prototype操作指南"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#继承-prototype操作指南"}},[t._v("#")]),t._v(" 继承 - prototype操作指南")]),t._v(" "),n("p",[t._v("但是在"),n("router-link",{attrs:{to:"/docs/Grammar/JS-继承.html"}},[t._v("JS-继承")]),t._v("中明明可以通过"),n("code",[t._v("foo.prototype.xx")]),t._v("来操作"),n("code",[t._v("prototype")]),t._v("。"),n("strong",[t._v("所以上诉第二点是在通过"),n("code",[t._v("new")]),t._v("关键词创建的实例的情况下")]),t._v("，即如果")],1),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newfoo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只能够通过上述第二点查看到prototype")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 但是我们能够通过下述方式操作")]),t._v("\nfoo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("xx")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])]),n("p",[t._v("来看看下一段代码，仔细研究以下区别！")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a constructor function")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("y")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// which may create objects")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// by specified pattern: they have after")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// creation own "y" property')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// also "Foo.prototype" stores reference')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to the prototype of newly created objects,")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// so we may use it to define shared/inherited")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// properties or methods, so the same as in")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// previous example we have:")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// inherited property "x"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// and inherited method "calculate"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("calculate")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("z")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" z"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// now create our "b" and "c"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// objects using "pattern" Foo')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// call the inherited method")]),t._v("\nb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("calculate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 60")]),t._v("\nc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("calculate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 80")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// let's show that we reference")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// properties we expect")]),t._v("\n \nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n \n  b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n  c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// also "Foo.prototype" automatically creates')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// a special property "constructor", which is a')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reference to the constructor function itself;")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// instances "b" and "c" may found it via')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// delegation and use to check their constructor")]),t._v("\n \n  b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n  c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n \n  b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("calculate "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("calculate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n  b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("calculate "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("calculate "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("上面代码我们得到下图：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(240),alt:"构造函数和原型"}})]),t._v(" "),n("ul",[n("li",[t._v("两段代码可以得到 "),n("strong",[n("code",[t._v("prototype")]),t._v(" 只有原型(普通函数可以作为原型，但是异步函数不行，箭头函数也不行)有。而 "),n("code",[t._v("newfoo")]),t._v(" 想要操作 "),n("code",[t._v("prototype")]),t._v(" 可以根据以上结论通过"),n("code",[t._v("newfoo.__proto__")]),t._v("来找到")]),t._v("(一般也不会这么做)")]),t._v(" "),n("li",[t._v("后面一段代码的指示是，如果想要找到"),n("code",[t._v("b")]),t._v("上面的方法，会从"),n("code",[t._v("b.__proto__")]),t._v("上面找，"),n("strong",[t._v("也就相当于从它的原型("),n("code",[t._v("Foo.prototype")]),t._v(")上面找")]),t._v("。")])]),t._v(" "),n("h2",{attrs:{id:"分析为什么能够继承？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分析为什么能够继承？"}},[t._v("#")]),t._v(" 分析为什么能够继承？")]),t._v(" "),n("p",[t._v("在"),n("router-link",{attrs:{to:"/docs/Grammar/JS-继承.html"}},[t._v("JS继承")]),t._v("中，我总结了可以通过以下方式继承！")],1),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myName")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or Bar.prototype = new Foo()")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("speak")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bar "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("此时"),n("code",[t._v("bar")]),t._v("结构为")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("name\nlabel "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 来自 Bar")]),t._v("\nname "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 来自name")]),t._v("\n__proto__\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//来自Bar.prototype")]),t._v("\n  speak\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//name // 如果使用Bar.prototype = new Foo()。来自FOO")]),t._v("\n  __proto__\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//来自F.prototype = Foo.prototype")]),t._v("\n    myName\n    constructor\n    __proto__\n")])])]),n("p",[n("strong",[t._v("题外话：")]),t._v(" 可以发现 "),n("strong",[t._v("子类")]),t._v("定义在"),n("code",[t._v("prototype")]),t._v("上定义方法是写在父类"),n("code",[t._v("__proto__")]),t._v("之外的。所以子类定义定义方法一般并不会影响父类(除非子类直接操作"),n("code",[t._v("__proto__")]),t._v(")")]),t._v(" "),n("ol",[n("li",[t._v("因为"),n("code",[t._v("new")]),t._v("可以创建实例，所以"),n("code",[t._v("Bar.prototype = new Foo()")]),t._v("改变"),n("code",[t._v("prototype")]),t._v("这个内容。")]),t._v(" "),n("li",[n("code",[t._v("Object.create")]),t._v("同样有创建指针的工作。因此可以通过"),n("code",[t._v("Bar.prototype=Object.create(Foo.prototype)")])])]),t._v(" "),n("p",[t._v("现在我们来分析为什么？")]),t._v(" "),n("p",[n("strong",[t._v("第一种继承方式")])]),t._v(" "),n("p",[n("code",[t._v("Bar.prototype = new Foo()")]),t._v(", "),n("code",[t._v("Bar.prototype")]),t._v("在没有经过这操作之前")]),t._v(" "),n("ol",[n("li",[n("code",[t._v("Bar.__proto__")]),t._v("指向原型，也就是"),n("code",[t._v("Function")])]),t._v(" "),n("li",[n("code",[t._v("Bar.prototype")]),t._v("含有"),n("code",[t._v("construtor && __proto__")]),t._v("（就像是第二点提到的）现在经过了"),n("code",[t._v("Bar.prototype = new Foo()")]),t._v("相当于我们改变了"),n("code",[t._v("Bar.prototype")]),t._v("指向(或者说将里面东西全部替换掉了为 "),n("strong",[t._v("新创建的Foo，而不是原始的Foo")]),t._v(")。此时"),n("code",[t._v("Bar.prototype")]),t._v("可以访问"),n("code",[t._v("Foo")]),t._v("中"),n("code",[t._v("this")]),t._v("的数据。")]),t._v(" "),n("li",[t._v("以上两步骤就是先了继承，因为此时"),n("code",[t._v("Foo")]),t._v("被"),n("code",[t._v("Bar")]),t._v("共享了。可以通过"),n("code",[t._v("Bar.prototype.xxx")]),t._v("在继承之后，对"),n("code",[t._v("prototype")]),t._v("这个对象实现添加新函数或者属性")]),t._v(" "),n("li",[t._v("然后我们"),n("code",[t._v("var newbar = new Bar()")]),t._v("。")]),t._v(" "),n("li",[n("code",[t._v("newbar")]),t._v("是通过"),n("code",[t._v("new")]),t._v("创建的(没有了"),n("code",[t._v("prototype")]),t._v("，我们无法直接操作"),n("code",[t._v("prototype")]),t._v(")")]),t._v(" "),n("li",[n("code",[t._v("newbar.__proto__")]),t._v("指向"),n("code",[t._v("Bar.prototype")]),t._v("，而"),n("code",[t._v("Bar.prototype")]),t._v("已经被我们改掉了，里面的 "),n("strong",[t._v("内容变为了")]),t._v("变为指向"),n("code",[t._v("Foo.prototype+之后添加的新函数属性")]),t._v("。在后期使用过程中，所以可以使用"),n("code",[t._v("Foo")]),t._v("的方法。")])]),t._v(" "),n("p",[t._v("这种继承方式最大的问题在"),n("router-link",{attrs:{to:"/docs/Grammar/JS-继承以及类-最佳实践解析.html"}},[t._v("JS-继承最佳实践解析")]),t._v("中分析了。")],1),t._v(" "),n("p",[n("strong",[t._v("第二种继承方式")]),n("code",[t._v("Object.create")]),t._v("内部具体结构如下:")]),t._v(" "),n("div",{staticClass:"language-Javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object create。传递参数是一个原型或者原型.prototype，所以之前总结prototype的结论应该没有问题..")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("F")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("F")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("F")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("如此我们实现了继承。")]),t._v(" "),n("p",[t._v("同时父类和子类别是可能含有不同的函数，"),n("code",[t._v("newbar.myName")]),t._v("在本身的"),n("code",[t._v("newbar.__proto__ or Bar.prototype上")]),t._v("找不到，就会向父类"),n("code",[t._v("Foo.prototype")]),t._v("查找。就是"),n("code",[t._v("__proto__")]),t._v("中嵌套的"),n("code",[t._v("__proto__")]),t._v("(嵌套就是父级上面找)")]),t._v(" "),n("p",[t._v("同时"),n("code",[t._v("new")]),t._v("关键字(具体可见"),n("code",[t._v("new")]),t._v("关键字内部实现)也是利用上面"),n("code",[t._v("__proto__")]),t._v("指向了原型的"),n("code",[t._v("prototype")]),t._v("的特性来返回一个临时的对象。")]),t._v(" "),n("p",[t._v("**以上继承方式"),n("code",[t._v("Foo.call()")]),t._v("**是较为关键的一点，在"),n("router-link",{attrs:{to:"/docs/Grammar/JS-继承以及类-最佳实践解析.html"}},[t._v("JS-继承最佳实践解析")]),t._v("分析了为什么。")],1),t._v(" "),n("p",[t._v("**Q&A -**那么为什么不"),n("code",[t._v("Bar.prototype = Foo.prototype")])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("label\nname\n__proto__\n  speak\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 来自FOO")]),t._v("\n  myName\n  construtor\n  __proto__\n")])])]),n("p",[t._v("由于"),n("code",[t._v("Bar.prototype = Foo.prototype")]),t._v("那么"),n("code",[t._v("Bar.prototype.speak = function () {}")]),t._v("不同于以上有一个"),n("code",[t._v("__proto__")]),t._v("阻挡。所以同样也会添加到"),n("code",[t._v("Foo")]),t._v("。子类也能够修改父类了。")]),t._v(" "),n("h3",{attrs:{id:"番外-私有属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#番外-私有属性"}},[t._v("#")]),t._v(" 番外 - 私有属性")]),t._v(" "),n("p",[t._v("除了在函数内部以及"),n("code",[t._v("prototype")]),t._v("上定义属性之外。还有一种比较奇怪的方式。")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("f")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("strong",[t._v("第1种情况：")])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'f'")]),t._v("\nf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("showname")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("f")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("可以得到"),n("code",[t._v("newf")]),t._v("结构为：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("somedata "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// from f")]),t._v("\n__proto__\n  showname "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  from f")]),t._v("\n  constructor\n    name "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// f.name = 'f'")]),t._v("\n  __proto__\n")])])]),n("p",[t._v("可以是 "),n("strong",[t._v("写在"),n("code",[t._v("constructor")]),t._v("内部，不会暴露出来。因此"),n("code",[t._v("newf.name")]),t._v("是无法访问的。")]),t._v(" 但是不同于以下方式(可以被"),n("code",[t._v("newf")]),t._v("访问)：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'f'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("但是"),n("code",[t._v("f.name")]),t._v("却可以通过"),n("code",[t._v("showname")]),t._v("方式访问，可以看出来，这像是什么？没错就是私有属性。而且是非闭包的私有属性！")]),t._v(" "),n("p",[n("strong",[t._v("第2种方式：")])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("f")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nnewf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newf'")]),t._v("\n")])])]),n("p",[t._v("可以得到"),n("code",[t._v("newf")]),t._v("结构为：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("somedata "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// from f")]),t._v("\nname "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// from newf.name")]),t._v("\n__proto__\n  showname "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  from f")]),t._v("\n  constructor\n  __proto__\n")])])]),n("p",[t._v("举例到继承，如果我们通过：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myName")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nnewf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("newname "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newname'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newf\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("speak")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bar "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("虽然现在一般不使用这种方式建立继承。")]),t._v(" "),n("p",[t._v("但是明显此时"),n("code",[t._v("bar")]),t._v("是可以访问到"),n("code",[t._v("newname")]),t._v("的。")]),t._v(" "),n("h3",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("ol",[n("li",[t._v("由于"),n("code",[t._v("__proto__")]),t._v("具有向上查找的特性。")]),t._v(" "),n("li",[n("code",[t._v("new or object.ceate")]),t._v("具有替换"),n("code",[t._v("__proto__ value")]),t._v("某个"),n("code",[t._v("prototype")]),t._v("所以可以实现继承"),n("code",[t._v("prototype")]),t._v("上的属性方法。")]),t._v(" "),n("li",[t._v("在子类中"),n("code",[t._v("parent.call(this)")]),t._v("是为了继承父类"),n("code",[t._v("constructor")]),t._v("内的属性方法。")]),t._v(" "),n("li",[t._v("写在"),n("code",[t._v("prototype")]),t._v("上的方法对于每个实例都是相等的，而"),n("code",[t._v("constructor")]),t._v("内的属性方法都是不等因为"),n("code",[t._v("Foo.call(this)")]),t._v("。")]),t._v(" "),n("li",[t._v("写在"),n("code",[t._v("Foo.xx")]),t._v("的方法是私有的。")])]),t._v(" "),n("p",[t._v("见"),n("a",{attrs:{href:""}},[t._v("JS-继承与类-类与类的原型")])]),t._v(" "),n("h2",{attrs:{id:"链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#链接"}},[t._v("#")]),t._v(" 链接")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://dmitrysoshnikov.com/ecmascript/javascript-the-core/",target:"_blank",rel:"noopener noreferrer"}},[t._v("外文解析-我觉得写的不错"),n("OutboundLink")],1)])]),t._v(" "),n("h1",{attrs:{id:"内建数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内建数据类型"}},[t._v("#")]),t._v(" 内建数据类型")]),t._v(" "),n("blockquote",[n("p",[t._v("内建类型和"),n("code",[t._v("function")]),t._v("一样都有"),n("code",[t._v("prototype")])])]),t._v(" "),n("h2",{attrs:{id:"内建数据类型-prototype"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内建数据类型-prototype"}},[t._v("#")]),t._v(" 内建数据类型 - prototype")]),t._v(" "),n("p",[t._v("在"),n("a",{attrs:{href:"#faq"}},[t._v("FAQ")]),t._v("中指出"),n("code",[t._v("var a = {}")]),t._v("没有"),n("code",[t._v("prototype")]),t._v("，而"),n("code",[t._v("function f")]),t._v("是有的。")]),t._v(" "),n("p",[t._v("但是像"),n("code",[t._v("Array or Object or Number")]),t._v("都是能够操作"),n("code",[t._v("prototype")]),t._v("。")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 但是以下prototype就消失了")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" num "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("p",[t._v("可以这么理解，获取是经过了"),n("code",[t._v("new Array or new Object or new Number")]),t._v("操作才有了我们看到的"),n("code",[t._v("1 [] {}")]),t._v("。")]),t._v(" "),n("p",[t._v("对比上面的"),n("code",[t._v("new")]),t._v("关键字操作，所以我们看不到"),n("code",[t._v("prototype")]),t._v("只有"),n("code",[t._v("__proto__")]),t._v("。")]),t._v(" "),n("p",[t._v("因此对应"),n("code",[t._v("num obj arr")]),t._v("指向的是"),n("code",[t._v("new Array or new Object or new Number .prototype")])])])}),[],!1,null,null,null);a.default=e.exports},91:function(t,a,s){t.exports=s.p+"assets/img/newdowhat.3a8c7bc4.png"}}]);