(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{517:function(e,r,t){"use strict";t.r(r);var a=t(0),_=Object(a.a)({},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"reflow-repaint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reflow-repaint","aria-hidden":"true"}},[e._v("#")]),e._v(" Reflow&Repaint")]),e._v(" "),t("blockquote",[t("p",[e._v("浏览器渲染")])]),e._v(" "),t("h2",{attrs:{id:"前置知识-浏览器渲染原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前置知识-浏览器渲染原理","aria-hidden":"true"}},[e._v("#")]),e._v(" 前置知识 - 浏览器渲染原理")]),e._v(" "),t("p",[e._v("见"),t("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Browser-浏览器渲染原理"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"什么是reflow-repaint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是reflow-repaint","aria-hidden":"true"}},[e._v("#")]),e._v(" 什么是Reflow&Repaint")]),e._v(" "),t("p",[t("code",[e._v("Reflow&Repaint")]),e._v("都是浏览器渲染的触发，只是两者的引发的原因和代价不同。")]),e._v(" "),t("p",[t("code",[e._v("reflow")]),e._v("的性能代价是要高于"),t("code",[e._v("repaint")]),e._v("的，所以在代码编写过程中避免"),t("code",[e._v("reflow or repaint")]),e._v("，无法避免的时候，尽量使用"),t("code",[e._v("repaint")]),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"引发原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引发原因","aria-hidden":"true"}},[e._v("#")]),e._v(" 引发原因")]),e._v(" "),t("p",[t("code",[e._v("reflow")]),e._v("意味着要重新绘制"),t("code",[e._v("dom tree")]),e._v("，"),t("code",[e._v("repaint")]),e._v("只是屏幕部分改变重画。")]),e._v(" "),t("p",[e._v("所以说"),t("code",[e._v("reflow")]),e._v("和"),t("code",[e._v("dom tree")]),e._v("有关，任何和引起节点"),t("code",[e._v("tree")]),e._v("有关的操作，特别的概念元素"),t("code",[e._v("textcontent")]),e._v("也属于"),t("code",[e._v("reflow")]),e._v("。因为文本也属于节点的一种。")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("reflow")]),e._v("一般由屏幕中元素尺寸改变导致需要重新布局。可能有引起的原因有(但是原因之间仍有影响因子大小)：\n"),t("ul",[t("li",[e._v("改变窗口大小")]),e._v(" "),t("li",[e._v("改变文字大小")]),e._v(" "),t("li",[e._v("内容的改变，如用户在输入框中敲字")]),e._v(" "),t("li",[e._v("激活伪类，如:hover")]),e._v(" "),t("li",[e._v("脚本操作DOM")]),e._v(" "),t("li",[e._v("计算offsetWidth和offsetHeight")]),e._v(" "),t("li",[e._v("设置style属性")])])]),e._v(" "),t("li",[t("code",[e._v("repaint")]),e._v(" - 屏幕的一部分要重画，比如某个CSS的背景色变了。但是元素的几何尺寸没有变。")])]),e._v(" "),t("h2",{attrs:{id:"指导意见"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指导意见","aria-hidden":"true"}},[e._v("#")]),e._v(" 指导意见")]),e._v(" "),t("p",[e._v("既然"),t("code",[e._v("repaint")]),e._v("好于"),t("code",[e._v("reflow")]),e._v("，就应该能够使用"),t("code",[e._v("repaint")]),e._v("的时候，就使用"),t("code",[e._v("repaint")]),e._v("。因此")]),e._v(" "),t("ul",[t("li",[e._v("不要通过父级来改变子元素样式，最好直接改变子元素样式，改变子元素样式尽可能不要影响父元素和兄弟元素的大小和尺寸")]),e._v(" "),t("li",[e._v("使用"),t("code",[e._v("classname")]),e._v("切换样式而不是直接"),t("code",[e._v("style")]),e._v("属性 - 因为"),t("code",[e._v("classname")]),e._v("是批量改变，改变次数更少")]),e._v(" "),t("li",[e._v("动画层设置"),t("code",[e._v("fixed")]),e._v(" - 这样就不会影响到其他元素")])]),e._v(" "),t("h2",{attrs:{id:"链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链接","aria-hidden":"true"}},[e._v("#")]),e._v(" 链接")]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://blog.csdn.net/qq_29066959/article/details/50770366",target:"_blank",rel:"noopener noreferrer"}},[e._v("1"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/zhutao/p/6551216.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("2 - reflow&repaint总结"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://imweb.io/topic/56841c864c44bcc56092e3fa",target:"_blank",rel:"noopener noreferrer"}},[e._v("3"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/e305ace24ddf",target:"_blank",rel:"noopener noreferrer"}},[e._v("4"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/a32b890c29b1",target:"_blank",rel:"noopener noreferrer"}},[e._v("5"),t("OutboundLink")],1)])])])])},[],!1,null,null,null);r.default=_.exports}}]);