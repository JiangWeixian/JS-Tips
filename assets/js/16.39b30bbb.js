(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{221:function(t,a,e){t.exports=e.p+"assets/img/datatype.2821bda4.png"},564:function(t,a,e){"use strict";e.r(a);var r=e(0),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"html-data-uri"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#html-data-uri"}},[t._v("#")]),t._v(" HTML - Data URI")]),t._v(" "),r("blockquote",[r("p",[t._v("data-uri belong to uri")])]),t._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#_1-1-前置知识-data-uri格式"}},[t._v("1.1. 前置知识 - Data URI格式")])]),r("li",[r("a",{attrs:{href:"#_1-2-datauri-image"}},[t._v("1.2. DataURI - image")])]),r("li",[r("a",{attrs:{href:"#_1-3-datauri-script"}},[t._v("1.3. DataURI - script")])]),r("li",[r("a",{attrs:{href:"#_1-4-datauri-css"}},[t._v("1.4. DataURI - css")])]),r("li",[r("a",{attrs:{href:"#_1-5-embed-datauri"}},[t._v("1.5. embed - DataURI")])]),r("li",[r("a",{attrs:{href:"#_1-6-链接"}},[t._v("1.6. 链接")])])])]),r("p"),t._v(" "),r("h2",{attrs:{id:"_1-1-前置知识-data-uri格式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-前置知识-data-uri格式"}},[t._v("#")]),t._v(" 1.1. 前置知识 - Data URI格式")]),t._v(" "),r("div",{staticClass:"language-JavaScript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[t._v("data"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("mime type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("charset"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("charset"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("encoding"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("encoded data"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("  data ：协议名称；\n\n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("mime type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ：可选项，数据类型（image"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("png、text"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("plain等）\n\n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("charset"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("charset"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ：可选项，源文本的字符集编码方式\n\n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("encoding"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ：数据编码方式（默认"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("US")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ASCII")]),t._v("，"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BASE64")]),t._v("两种）\n\n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("encoded data"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ：编码后的数据\n")])])]),r("p",[t._v("例如"),r("code",[t._v("data:text/plain;charset=UTF-8;base64,5Lit5paH5a2X56ym")]),t._v("中")]),t._v(" "),r("ul",[r("li",[r("code",[t._v("[<mime type>]")]),t._v(" - 对应"),r("code",[t._v("text/plain")]),t._v("，一般都有")]),t._v(" "),r("li",[r("code",[t._v("[;charset=<charset>]")]),t._v(" - 对应"),r("code",[t._v(";charset=UTF-8")]),t._v("，这个可以没有")]),t._v(" "),r("li",[r("code",[t._v("[;<encoding>]")]),t._v(" - 对应"),r("code",[t._v(";base64")])]),t._v(" "),r("li",[r("code",[t._v(",<encoded data>")]),t._v(" - 对应"),r("code",[t._v(",5Lit5paH5a2X56ym")])])]),t._v(" "),r("p",[t._v("支持类型如下：")]),t._v(" "),r("p",[r("img",{attrs:{src:e(221),alt:"datatype"}})]),t._v(" "),r("p",[t._v("任何一段"),r("code",[t._v("datauri")]),t._v("数据复制到浏览器地址中，都可以通过浏览器解析。具体解析为什么数据，取决于"),r("code",[t._v("mime type")])]),t._v(" "),r("h2",{attrs:{id:"_1-2-datauri-image"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-datauri-image"}},[t._v("#")]),t._v(" 1.2. DataURI - image")]),t._v(" "),r("p",[t._v("这个算是接触比较多而且比较好理解的。在"),r("code",[t._v("vue")]),t._v("中，通过插件可以将"),r("code",[t._v("image")]),t._v("变为"),r("code",[t._v("base64")]),t._v("格式然后作为"),r("code",[t._v("src")]),t._v("，或者是"),r("code",[t._v("css")]),t._v("文件中的"),r("code",[t._v("background: url")]),t._v("。显示结果和传统的没有什么区别。")]),t._v(" "),r("p",[r("strong",[t._v("优势：")]),t._v(" 以打包为目的，将图片变为"),r("code",[t._v("WebAPP")]),t._v("一部分。那么下载完"),r("code",[t._v("HTML")]),t._v("文件就相当于下载好了"),r("code",[t._v("IMAGE")]),t._v("。在"),r("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器渲染流程"),r("OutboundLink")],1),t._v("中提到，如果是"),r("code",[t._v("css html js")]),t._v("的顺序，执行好"),r("code",[t._v("JS")]),t._v("文件，下一步才是"),r("code",[t._v("images")]),t._v("等资源下载。因此"),r("code",[t._v("datauri image")]),t._v("优势在于减少了"),r("code",[t._v("HTTP")]),t._v("请求次数。")]),t._v(" "),r("p",[r("strong",[t._v("缺陷：")])]),t._v(" "),r("p",[t._v("浏览器是不会缓存"),r("code",[t._v("HTML")]),t._v("的，所以也就不会缓存"),r("code",[t._v("datauri image")]),t._v("。这个说法有问题，因为浏览器是否缓存"),r("code",[t._v("html")]),t._v("，和缓存设置有关。")]),t._v(" "),r("p",[t._v("另外也是优势的缺陷，由于"),r("code",[t._v("css")]),t._v("中，图片大小限制了"),r("code",[t._v("css")]),t._v("下载与解析，在"),r("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器渲染流程"),r("OutboundLink")],1),t._v("中提到，网页 "),r("strong",[t._v("初始")]),t._v("呈现页面与"),r("code",[t._v("cssdom and htmldom")]),t._v("两个都有关系，如果这"),r("code",[t._v("cssdom")]),t._v("现在太慢，"),r("code",[t._v("cssdom and htmldom")]),t._v("出现时间比较慢，那么白屏时间也会比较长。")]),t._v(" "),r("p",[r("strong",[t._v("写在"),r("code",[t._v("image")]),t._v("的"),r("code",[t._v("datauri")]),t._v("中随着"),r("code",[t._v("html")]),t._v("一起下载(因为此时就是一段字符串)，自然也会相对耗时。增加白屏")]),t._v("(如果"),r("code",[t._v("image-src")]),t._v("是传统的路径的话，遵循图片下载发生在"),r("code",[t._v("domcontentload")]),t._v("和"),r("code",[t._v("load")]),t._v("之间，此时可能或许页面已经出现了)")]),t._v(" "),r("h2",{attrs:{id:"_1-3-datauri-script"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-datauri-script"}},[t._v("#")]),t._v(" 1.3. DataURI - script")]),t._v(" "),r("blockquote",[r("p",[t._v("用于"),r("code",[t._v("script-src")]),t._v("，估计其他"),r("code",[t._v("datauri")]),t._v("可以用于对应的标签。")])]),t._v(" "),r("p",[t._v("具体见"),r("a",{attrs:{href:"https://stackoverflow.com/questions/34845250/loading-script-content-from-data-url",target:"_blank",rel:"noopener noreferrer"}},[t._v("text/plain-datauri实例"),r("OutboundLink")],1),t._v(" / 很容易引起"),r("code",[t._v("xss")]),t._v("攻击。和"),r("code",[t._v("eval")]),t._v("行为没有什么不同。")]),t._v(" "),r("h2",{attrs:{id:"_1-4-datauri-css"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-datauri-css"}},[t._v("#")]),t._v(" 1.4. DataURI - css")]),t._v(" "),r("blockquote",[r("p",[t._v("和 "),r("a",{attrs:{href:""}},[t._v("DataURI - script")]),t._v("一样，适用于"),r("code",[t._v("link-href")])])]),t._v(" "),r("h2",{attrs:{id:"_1-5-embed-datauri"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-embed-datauri"}},[t._v("#")]),t._v(" 1.5. embed - DataURI")]),t._v(" "),r("blockquote",[r("p",[t._v("在"),r("a",{attrs:{href:"https://stackoverflow.com/questions/34845250/loading-script-content-from-data-url",target:"_blank",rel:"noopener noreferrer"}},[t._v("text/plain-datauri实例"),r("OutboundLink")],1),t._v("提到可以适用"),r("code",[t._v("embed")]),t._v("标签。")])]),t._v(" "),r("p",[t._v("在"),r("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/HTML/HTML/embed.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("embed.html"),r("OutboundLink")],1),t._v("测试中发现，可以插入以上任意类型数据。")]),t._v(" "),r("h2",{attrs:{id:"_1-6-链接"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-链接"}},[t._v("#")]),t._v(" 1.6. 链接")]),t._v(" "),r("blockquote",[r("p",[t._v("实例为主")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.jianshu.com/p/ea49397fcd13",target:"_blank",rel:"noopener noreferrer"}},[t._v("url&uri以及基本格式介绍"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://blog.csdn.net/kerwin612/article/details/14445511",target:"_blank",rel:"noopener noreferrer"}},[t._v("image-datauri实例"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.coldawn.com/how-to-insert-chinese-encoded-by-base64-data-urls-into-html/",target:"_blank",rel:"noopener noreferrer"}},[t._v("text/plain-datauri实例"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://stackoverflow.com/questions/34845250/loading-script-content-from-data-url",target:"_blank",rel:"noopener noreferrer"}},[t._v("text/plain-datauri实例"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://juejin.im/entry/58ca2b9dac502e0058868693",target:"_blank",rel:"noopener noreferrer"}},[t._v("datauri-image的缺点"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=s.exports}}]);