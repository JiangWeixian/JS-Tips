(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{301:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"flexible的一些应用以及思考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flexible的一些应用以及思考","aria-hidden":"true"}},[t._v("#")]),t._v(" Flexible的一些应用以及思考")]),t._v(" "),a("blockquote",[a("p",[t._v("Flexibel适配移动端和PC端")])]),t._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("什么是移动端适配？")]),t._v(" "),a("p",[t._v("由于移动端屏幕种类繁多，直白的来说，就是有些屏幕较好分别率较高，而另外一些就比较差。这就导致了一个设计稿，在一台手机上是一个效果。而在另外一台手机上就是另外一个效果了。具体来说，一些尺寸可能有变大变小之分。")]),t._v(" "),a("p",[t._v("一篇关于这方面很好的文章是"),a("code",[t._v("w3cpluss")]),t._v("利用"),a("code",[t._v("flexible.js")]),t._v("来对页面进行适配，"),a("a",{attrs:{href:"https://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("文章地址"),a("OutboundLink")],1),t._v("。"),a("code",[t._v("flexible")]),t._v("是手淘维护的项目，稳定性值得保证。"),a("a",{attrs:{href:"https://github.com/amfe/lib-flexible",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Github")]),t._v("地址"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("由于之前没怎么接触过手机端的适配，而本博客在手机端只是利用"),a("code",[t._v("@media")]),t._v("来进行不同屏幕尺寸的适配。显然"),a("code",[t._v("flexible.js")]),t._v("不是那么简单的。")]),t._v(" "),a("p",[t._v("就我的理解来看，为解决不同屏幕分辨率的问题（对于像素点的处理）。"),a("code",[t._v("flexible")]),t._v("利用屏幕尺寸和"),a("code",[t._v("dpr")]),t._v("进行判断，并动态调整"),a("code",[t._v("html")]),t._v("标签以及"),a("code",[t._v("body")]),t._v("标签的"),a("code",[t._v("font-size")]),t._v("。")]),t._v(" "),a("p",[t._v("不过项目主页所说，第一版本的方案被放弃了，第二版本的方案正在实现，填坑中。第二版本是以屏幕宽度作为调整原则。作为本博客仍以第一版本的"),a("code",[t._v("flexible")]),t._v("作为使用举例。因为我想要的方案是：")]),t._v(" "),a("ul",[a("li",[t._v("当我在博客中引入适配方案的时候，PC端和移动端都能够适用。移动端的屏幕宽度是没办法改变，而PC端是可能改变浏览器窗口大小的。就这一点来看，"),a("code",[t._v("flexible.js")]),t._v("比较适合我。"),a("strong",[t._v("或许大家对"),a("code",[t._v("flexible.js")]),t._v("第二版本有更好的理解。")])])]),t._v(" "),a("p",[a("strong",[t._v("注意："),a("code",[t._v("flexible.js")]),t._v("无论V1还是V2都是移动端的解决方案。像我这样加到PC端是不太合理的....")])]),t._v(" "),a("p",[t._v("遵循移动端先行的原则，开始正文....")]),t._v(" "),a("h2",{attrs:{id:"正文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正文","aria-hidden":"true"}},[t._v("#")]),t._v(" 正文")]),t._v(" "),a("p",[a("code",[t._v("flexible")]),t._v("原理是（以IP6"),a("code",[t._v("750px")]),t._v("的设计图举例），将设计图分割10分，每份大小是"),a("code",[t._v("75px")]),t._v("。因此将html标签的"),a("code",[t._v("font-size")]),t._v("设置为"),a("code",[t._v("75px")]),t._v("。这样你在CSS文件中使用的所有"),a("code",[t._v("1rem=75px")]),t._v("。"),a("strong",[t._v("且在所有的样式书写以及布局中，都是以"),a("code",[t._v("rem")]),t._v("作为布局单位，而不是"),a("code",[t._v("px")]),t._v("。")])]),t._v(" "),a("p",[t._v("但是对于PC端，font-size就变为"),a("code",[t._v("54px")]),t._v("。这是由于屏幕尺寸在变。如同"),a("code",[t._v("flexible.js")]),t._v("的源码说的那样。")]),t._v(" "),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" docEl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// alert(width)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" dpr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("540")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("540")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" dpr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocEl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nflexible"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"如何开始使用flexible-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何开始使用flexible-js","aria-hidden":"true"}},[t._v("#")]),t._v(" 如何开始使用"),a("code",[t._v("flexible.js")])]),t._v(" "),a("p",[t._v("有两种方式。")]),t._v(" "),a("ul",[a("li",[t._v("第一种："),a("code",[t._v("npm install lib-flexible -S")]),t._v("并在"),a("code",[t._v("main.js")]),t._v("中引入"),a("code",[t._v("import lib-flexible.js")]),t._v("。这样就可以在全局使用"),a("code",[t._v("flexible")]),t._v("。")])]),t._v(" "),a("p",[t._v("很恶心的地方在于，对于PC端，font-size就变为"),a("code",[t._v("54px")]),t._v("，和IP6的font-size就变为"),a("code",[t._v("75px")]),t._v("。比例实在有点奇怪。所以我修改了源码，让它在PC端设置为"),a("code",[t._v("37.5px")]),t._v("。好处在于，假设我们在"),a("code",[t._v("Chrome")]),t._v("下写好了移动端的界面布局，其中一个元素大小为"),a("code",[t._v("1rem(=75px)")]),t._v("。然后再写PC端的(变为了"),a("code",[t._v("54px")]),t._v(")，这时候你可能觉得要再调整一下（变为"),a("code",[t._v("90px=90px/54px=1.66667rem")]),t._v("），所以通过"),a("code",[t._v("@media")]),t._v("微调PC端样式。")]),t._v(" "),a("p",[t._v("等等，设想一下，我们拿到了手机端的设计稿。我想设计稿大概不会是以"),a("code",[t._v("rem")]),t._v("作为标注单位的，一定是"),a("code",[t._v("px")]),t._v("。假设两个元素的间距是"),a("code",[t._v("13px/75px=0.17rem")]),t._v("，如果调整为PC端大小为"),a("code",[t._v("54px")]),t._v("。应该是多少"),a("code",[t._v("rem")]),t._v("来着？")]),t._v(" "),a("p",[t._v("因此，我们得到两点结论：")]),t._v(" "),a("ul",[a("li",[t._v("我们不能直接在文件书写"),a("code",[t._v("rem")]),t._v("作为单位。我们需要写"),a("code",[t._v("px")]),t._v("然后自动转换"),a("code",[t._v("rem")]),t._v("的工具。之后会介绍。")]),t._v(" "),a("li",[t._v("第二点...最好不要在PC上使用，如果非要使用（就像是我这种做大死的）。我调整PC端时候，"),a("code",[t._v("html")]),t._v("标签的字体大小为"),a("code",[t._v("37.5px")]),t._v("只是为了换算方便。")])]),t._v(" "),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" docEl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// alert(width)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" dpr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("540")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("540")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" dpr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nwidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("540")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("750")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("width\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isPc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    docEl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    flexible"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    docEl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    flexible"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("注意：isPc是我来判断是否是PC端浏览器的")])]),t._v(" "),a("ul",[a("li",[t._v("第二种使用"),a("code",[t._v("flexible")]),t._v("的方式，不用"),a("code",[t._v("npm")]),t._v("。而是下载源码，然后导入工程目录下的"),a("code",[t._v("flexible.js")]),t._v("文件，无论你是"),a("code",[t._v("import")]),t._v("还是利用"),a("code",[t._v("script")]),t._v("标签。因为如果修改了源码，用"),a("code",[t._v("npm")]),t._v("包导入，会不起作用！")])]),t._v(" "),a("h3",{attrs:{id:"如果使用px2rem-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如果使用px2rem-loader","aria-hidden":"true"}},[t._v("#")]),t._v(" 如果使用px2rem-loader")]),t._v(" "),a("p",[a("code",[t._v("px2rem-loader")]),t._v("是自动化工具，你只要在文件上写上"),a("code",[t._v("px")]),t._v("。无论是"),a("code",[t._v("npm run dev")]),t._v("还是"),a("code",[t._v("npm run build")]),t._v("都会将"),a("code",[t._v("px")]),t._v("自动变为"),a("code",[t._v("rem")]),t._v("。好东西。")]),t._v(" "),a("ul",[a("li",[t._v("第一步当然是"),a("code",[t._v("npm install px2rem-loader --save-dev")])]),t._v(" "),a("li",[t._v("在"),a("code",[t._v("build/util.js")]),t._v("文件中，加上"),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" px2remLoader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  loader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px2rem-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      remUnit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("75")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这里就代表1rem=75px")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//以及(请注意找到具体位置修改)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" loaders "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cssLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" px2remLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])])]),t._v(" "),a("p",[t._v("大功告成！")]),t._v(" "),a("h2",{attrs:{id:"结尾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结尾","aria-hidden":"true"}},[t._v("#")]),t._v(" 结尾")]),t._v(" "),a("p",[t._v("修改源码是一种不太好行为，因此那一步，大家酌情考虑。")]),t._v(" "),a("p",[t._v("不说了，我要改代码去了。我之前写的页面全部都要重写，要重写，写啊....")])])},[],!1,null,null,null);s.default=n.exports}}]);