(window.webpackJsonp=window.webpackJsonp||[]).push([[346],{324:function(_,v,e){"use strict";e.r(v);var t=e(0),o=Object(t.a)({},(function(){var _=this,v=_.$createElement,e=_._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("h1",{attrs:{id:"_1-reg-匹配规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-reg-匹配规则"}},[_._v("#")]),_._v(" 1. Reg - 匹配规则")]),_._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#1-reg---%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99"}},[_._v("1. Reg - 匹配规则")]),_._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#11-%E6%A8%A1%E5%BC%8F"}},[_._v("1.1. 模式")])]),_._v(" "),e("li",[e("a",{attrs:{href:"#12-%E8%A7%84%E5%88%99"}},[_._v("1.2. 规则")]),_._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#121-%E5%88%86%E7%BB%84---%E8%A7%A3%E9%87%8A%E8%AF%B4%E6%98%8E"}},[_._v("1.2.1. 分组 - 解释说明")])]),_._v(" "),e("li",[e("a",{attrs:{href:"#122----%E8%A7%A3%E9%87%8A%E8%AF%B4%E6%98%8E"}},[_._v("1.2.2. "),e("code",[_._v("?:")]),_._v(" - 解释说明")])])])]),_._v(" "),e("li",[e("a",{attrs:{href:"#13-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%AD%A3%E5%88%99"}},[_._v("1.3. 字符串转换为正则")])]),_._v(" "),e("li",[e("a",{attrs:{href:"#14-tips"}},[_._v("1.4. Tips")]),_._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#141-%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8"}},[_._v("1.4.1. 简单应用")])])])])])])]),_._v(" "),e("h2",{attrs:{id:"_1-1-模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-模式"}},[_._v("#")]),_._v(" 1.1. 模式")]),_._v(" "),e("p",[_._v("可以写代表整个字符串格式的"),e("code",[_._v("reg")]),_._v("，或者写其中一部分格式"),e("code",[_._v("reg")]),_._v("并通过多次执行"),e("code",[_._v(".exec")]),_._v("来执行获取每一次匹配结果。")]),_._v(" "),e("ul",[e("li",[e("p",[_._v("i - 忽略大小写模式")])]),_._v(" "),e("li",[e("p",[_._v("g - 全局，string.replace中用到的比较多，"),e("code",[_._v("replace")]),_._v("函数一般用的是"),e("code",[_._v("reg")]),_._v("匹配部分格式。")]),_._v(" "),e("blockquote",[e("p",[e("strong",[_._v("如果正则是写整个字符串格式，就是获取全部分组结果")]),_._v(" 例如在y模式举例的情况。")])]),_._v(" "),e("blockquote",[e("p",[e("strong",[_._v("如果正则是写一部分格式，可多次匹配"),e("code",[_._v("regex")]),_._v("整个表达式结果，可以通过多次执行"),e("code",[_._v(".exec")]),_._v("来获得不同结果")]),_._v("。")])]),_._v(" "),e("blockquote",[e("p",[_._v("与不是"),e("code",[_._v("g")]),_._v("模式的区别在于，没有"),e("code",[_._v("g")]),_._v("模式情况下 "),e("strong",[_._v("多次"),e("code",[_._v("exec")]),_._v("还是只有一种结果。")])])])]),_._v(" "),e("li",[e("p",[_._v("m - 多行模式")])]),_._v(" "),e("li",[e("p",[_._v("y - 粘性模式，这个比较难以理解")]),_._v(" "),e("blockquote",[e("p",[_._v("如果开启这个模式！第二次执行结果在上一次基础上。例如"),e("code",[_._v("var regex = /(\\w+):(\\/{2,3})(\\w+\\.\\w+\\.\\w+)/")]),_._v("匹配"),e("code",[_._v('var url = "http://xxx.domain.com"')]),_._v("。此时没有开启"),e("code",[_._v("y")]),_._v("，那么都是"),e("code",[_._v("url.match(regex)")]),_._v("第一次，以及再一次"),e("code",[_._v("regex.match(url)")]),_._v("中"),e("code",[_._v("match[1]")]),_._v("都是没有变得。但是开启了"),e("code",[_._v("y")]),_._v("之后，"),e("code",[_._v("match[1]")]),_._v("在不断变化，分别为第一次匹配结果以及第二次")])]),_._v(" "),e("blockquote",[e("p",[e("strong",[_._v("有限制使用的情况，默认是带有"),e("code",[_._v("^")])]),_._v("（也就是会限制字符串开头模式），例如如果对于"),e("code",[_._v('var str = "我的账户余额：2,235,467.20"')]),_._v("，"),e("code",[_._v("regex = /(\\d{1,3})/")]),_._v("对于开启"),e("code",[_._v("y or g")]),_._v("时不同的情况。因为对于"),e("code",[_._v("y")]),_._v("必须以数字开头才能够匹配到规则。")])])])]),_._v(" "),e("h2",{attrs:{id:"_1-2-规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-规则"}},[_._v("#")]),_._v(" 1.2. 规则")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("[0-9]")]),_._v("等价"),e("code",[_._v("\\d")]),_._v("，虽然是一句废话。但是有一个隐含的意思就是"),e("code",[_._v("[0-9]")]),e("strong",[_._v("匹配是单个数字，并不是一组数字。")]),_._v("。所以想要匹配一组数字必须"),e("code",[_._v("[0-9]+ or \\d+")])]),_._v(" "),e("li",[e("strong",[_._v("如果使用reg写出了整个表达式的结果。")]),_._v("，那么分组结果就已经确定了！不能再用"),e("code",[_._v("*?+")]),_._v("期望动态的分组结果。例如"),e("code",[_._v("/(\\d{1,3},)*(\\d{3})*(\\.\\d+)?/g")]),_._v("期望动态的"),e("code",[_._v("(\\d{1,3},) or后面的")]),_._v("分组结果是做不到的。"),e("strong",[_._v("想要动态的分组结果只能够用"),e("code",[_._v("reg")]),_._v("写出部分"),e("code",[_._v("str")]),_._v("格式。")])]),_._v(" "),e("li",[_._v("没办法做到匹配嵌套分组结果")]),_._v(" "),e("li",[_._v("replace替换的是"),e("code",[_._v("match[0]")]),_._v(" - 见下面的 "),e("strong",[_._v("1.2.1. 分组 - 解释说明")]),_._v("。注意不是"),e("code",[_._v("match[1]")]),_._v("的分组结果。")]),_._v(" "),e("li",[e("code",[_._v("?:")]),_._v(" - 含义为不匹配分组，即如果"),e("code",[_._v("(?:xx)")]),_._v("那么匹配"),e("code",[_._v("xx")]),_._v("会进行匹配，但是不会出现在分组结果中。但是这个可以用于嵌套分组的匹配，例如 "),e("strong",[_._v("?: 解释说明")])])]),_._v(" "),e("h3",{attrs:{id:"_1-2-1-分组-解释说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-分组-解释说明"}},[_._v("#")]),_._v(" 1.2.1. 分组 - 解释说明")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("var regex = /(\\w+):(\\/{2,3})(\\w+\\.\\w+\\.\\w+)/")]),_._v(" "),e("strong",[_._v("整个表达式是一个匹配规则")])]),_._v(" "),e("li",[e("code",[_._v("var match = url.match(regex)")]),_._v(" - match可能为"),e("code",[_._v("0~xx")]),_._v("，即"),e("code",[_._v("match[0],match[1]...")])])]),_._v(" "),e("p",[_._v("也就是说"),e("code",[_._v("url.match(regex)")]),_._v("我们想要的是对应"),e("code",[_._v("regex")]),_._v("规则的字符串。也就是"),e("code",[_._v("match[0]")]),_._v("，其中"),e("code",[_._v("value")]),_._v("为"),e("code",[_._v("http://xxx.domain.com")]),_._v("，因为这个"),e("code",[_._v("url")]),_._v("是符合"),e("code",[_._v("regex")]),_._v("规则的。")]),_._v(" "),e("p",[e("strong",[_._v("而后面的match[1]...")]),_._v(" 和"),e("code",[_._v("regex")]),_._v("密切相关，上图中一共三个分组，所以"),e("code",[_._v("match[1-3]")]),_._v("对应三个分组结果。")]),_._v(" "),e("h3",{attrs:{id:"_1-2-2-解释说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-解释说明"}},[_._v("#")]),_._v(" 1.2.2. "),e("code",[_._v("?:")]),_._v(" - 解释说明")]),_._v(" "),e("blockquote",[e("p",[e("code",[_._v("?:")]),_._v(" - 含义为不匹配分组。但是仅限于紧跟着"),e("code",[_._v("?:")]),_._v("之后的。例如"),e("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Reg/Reg-%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99.md",target:"_blank",rel:"noopener noreferrer"}},[_._v("reg-url.js"),e("OutboundLink")],1)])]),_._v(" "),e("p",[e("code",[_._v("(?::(\\d+)) - 9090")]),_._v("，如果写成了"),e("code",[_._v("(?::\\d+)")]),_._v("那么"),e("code",[_._v("9090")]),_._v("会 "),e("strong",[_._v("进行匹配但是不会出现在match-list中")])]),_._v(" "),e("p",[_._v("由于"),e("code",[_._v("(\\d+)")]),_._v("被"),e("code",[_._v("()")]),_._v("包裹，那么"),e("code",[_._v(":")]),_._v("(因为"),e("code",[_._v(":")]),_._v("跟着"),e("code",[_._v("?:")]),_._v("之后)不会出现在匹配结果 "),e("strong",[_._v("仅仅只有:")]),_._v("。那么"),e("code",[_._v("9090")]),_._v("就会出现在match-list结果中。")]),_._v(" "),e("p",[_._v("作为对比，如果"),e("code",[_._v("(:\\d+)")]),_._v("匹配的结果是"),e("code",[_._v(":9090")]),_._v("。")]),_._v(" "),e("p",[_._v("以上。")]),_._v(" "),e("h2",{attrs:{id:"_1-3-字符串转换为正则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-字符串转换为正则"}},[_._v("#")]),_._v(" 1.3. 字符串转换为正则")]),_._v(" "),e("blockquote",[e("p",[_._v("有些是函数参数要求是正则输入，但是如果不是正则输入的话。例如变为了字符串输入。那么字符串转换为正则通过"),e("code",[_._v("new Reg(xx)")])])]),_._v(" "),e("p",[_._v("那么"),e("code",[_._v("new Reg('aa')")]),_._v("等价于"),e("code",[_._v("/aa/")]),_._v("。字符串转换为正则要避免以下的坑：")]),_._v(" "),e("ul",[e("li",[_._v("如果遇到属于正则关键字的，如"),e("code",[_._v("[] .")]),_._v("等需要转译，变为"),e("code",[_._v("\\[\\] \\.")])]),_._v(" "),e("li",[e("strong",[_._v("转换过程中"),e("code",[_._v("\\")]),_._v("会被认为是字符串"),e("code",[_._v("\\")]),_._v("，而不是转译操作。")]),_._v(" 所以第一点必须写成"),e("code",[_._v("\\\\[\\\\] \\\\.")])])]),_._v(" "),e("h2",{attrs:{id:"_1-4-tips"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-tips"}},[_._v("#")]),_._v(" 1.4. Tips")]),_._v(" "),e("blockquote",[e("p",[_._v("高级用法&容易忘记的地方")])]),_._v(" "),e("ul",[e("li",[_._v("用好replace替换的是"),e("code",[_._v("match[0]")]),_._v(" - 这一点很重要。\n"),e("ul",[e("li",[_._v("因为结合"),e("code",[_._v("g")]),_._v("模式，进行多次匹配。实现多个替换。")]),_._v(" "),e("li",[_._v("除此之外，并不意味这个"),e("code",[_._v("/xx/g")]),_._v("只能写一个分组，可以利用 "),e("strong",[_._v("后一个分组来限制前一个分组的位置")]),_._v("，就像是"),e("code",[_._v("/(\\d+)(?=((\\d{3})+(?!\\d)))/g")]),_._v("。"),e("strong",[_._v("一般情况下会替换"),e("code",[_._v("match[0]")]),_._v("也就是整个表达式结果")]),_._v(" 如果只想要替换"),e("code",[_._v("(\\d+)")]),_._v("，那么就应该使用"),e("code",[_._v("string.replace")]),_._v("的更多参数控制分组结果，甚至可以使用 "),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace#%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[_._v("回调函数")]),e("OutboundLink")],1)])])]),_._v(" "),e("li",[e("code",[_._v("\\w")]),_._v("意味着"),e("code",[_._v("[a-zA-Z0-9_]")]),_._v("而不仅仅只是字母")])]),_._v(" "),e("h3",{attrs:{id:"_1-4-1-简单应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-简单应用"}},[_._v("#")]),_._v(" 1.4.1. 简单应用")]),_._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Reg/Reg-%E5%85%A8%E9%83%A8%E5%8C%B9%E9%85%8D%E5%AE%9E%E4%BE%8B.md",target:"_blank",rel:"noopener noreferrer"}},[_._v("例子链接"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=o.exports}}]);