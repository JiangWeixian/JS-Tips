(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{527:function(e,t,_){"use strict";_.r(t);var v=_(0),r=Object(v.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"css-小数点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#css-小数点"}},[e._v("#")]),e._v(" CSS - 小数点")]),e._v(" "),_("blockquote",[_("p",[e._v("如何处理小数点单位；")])]),e._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#css---%E5%B0%8F%E6%95%B0%E7%82%B9"}},[e._v("CSS - 小数点")]),e._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E5%89%8D%E8%80%85%E7%9F%A5%E8%AF%86---%E5%B0%8F%E6%95%B0%E7%82%B9%E5%A4%84%E7%90%86%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"}},[_("strong",[e._v("前者知识 - 小数点处理的两种方式")])])]),e._v(" "),_("li",[_("a",{attrs:{href:"#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86---%E6%B8%B2%E6%9F%93%E4%B8%8E%E5%8D%A0%E7%94%A8"}},[_("strong",[e._v("前置知识 - 渲染与占用")])])]),e._v(" "),_("li",[_("a",{attrs:{href:"#px"}},[e._v("PX")]),e._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E8%A7%A3%E9%87%8A1px%E9%97%AE%E9%A2%98"}},[e._v("解释"),_("code",[e._v("1PX")]),e._v("问题")])])])]),e._v(" "),_("li",[_("a",{attrs:{href:"#%E5%8F%82%E8%80%83"}},[e._v("参考")])])])])]),e._v(" "),_("h2",{attrs:{id:"前者知识-小数点处理的两种方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#前者知识-小数点处理的两种方式"}},[e._v("#")]),e._v(" "),_("strong",[e._v("前者知识 - 小数点处理的两种方式")])]),e._v(" "),_("blockquote",[_("p",[e._v("纠正一个设备像素不能显示一半的错误")])]),e._v(" "),_("p",[_("strong",[e._v("题外话 - 设备像素")])]),e._v(" "),_("p",[e._v("设备像素和CSS像素之间的概念，有的是1个设备像素对应一个1-CSS像素，有的是2个像素对应1-CSS像素。")]),e._v(" "),_("p",[e._v("其实从观感上只是分辨率提高了。原因在于：")]),e._v(" "),_("blockquote",[_("p",[_("strong",[e._v("假设1个CSS像素高度宽度是固定的(因为需要多平台保持一致)")]),e._v("，那么现在可以通过2个设备像素显示或者1个设备像素显示。设备像素的高度在变化。")])]),e._v(" "),_("p",[_("strong",[e._v("回到正题")]),e._v(" - 小数点处理方式有两种")]),e._v(" "),_("ol",[_("li",[e._v("小数点四舍五入")]),e._v(" "),_("li",[e._v("对于元素形成的矩形，"),_("strong",[e._v("外扩")]),e._v(" 至最近设备像素。")])]),e._v(" "),_("p",[_("a",{attrs:{href:"https://trac.webkit.org/wiki/LayoutUnit",target:"_blank",rel:"noopener noreferrer"}},[e._v("参考"),_("OutboundLink")],1)]),e._v(" "),_("h2",{attrs:{id:"前置知识-渲染与占用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#前置知识-渲染与占用"}},[e._v("#")]),e._v(" "),_("strong",[e._v("前置知识 - 渲染与占用")])]),e._v(" "),_("blockquote",[_("p",[e._v("渲染对于元素对于视觉的影响；占用指的是该元素对于布局上的影响；")])]),e._v(" "),_("blockquote"),e._v(" "),_("p",[e._v("假设存在"),_("code",[e._v("1.52px")]),e._v("元素，那么按照"),_("a",{attrs:{href:"#%E5%89%8D%E8%80%85%E7%9F%A5%E8%AF%86---%E5%B0%8F%E6%95%B0%E7%82%B9%E5%A4%84%E7%90%86%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"}},[_("strong",[e._v("小数点处理的两种方式")])]),e._v("提到的 "),_("strong",[e._v("四舍五入进行处理的话。")]),e._v(" 那么"),_("code",[e._v("1.52px")]),e._v("应该变为"),_("code",[e._v("2px")]),e._v("，但是页面种布局还是占用了"),_("code",[e._v("1.52px")]),e._v("。")]),e._v(" "),_("p",[e._v("那么对于"),_("code",[e._v("0.2px")]),e._v("元素，看的到为"),_("code",[e._v("0px")]),e._v("，但是暂用了"),_("code",[e._v("0.2px")]),e._v("。"),_("strong",[e._v("也就是说此时元素是看不到的，但是实实在在的占用了布局，并对其他元素造成了影响")])]),e._v(" "),_("p",[_("strong",[e._v("对于小于0.5的处理")])]),e._v(" "),_("p",[e._v("例子见"),_("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/CSS/HTML/css-minvalue.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("CSS-MINVALUE"),_("OutboundLink")],1),e._v("可以发现，对于"),_("code",[e._v("ele-minst")]),e._v("设置了高度为"),_("code",[e._v("0.4px")]),e._v("。其实页面上无法看到这个元素的。")]),e._v(" "),_("p",[e._v("但是我们在后面存在一个"),_("code",[e._v("50px*50px")]),e._v("的"),_("code",[e._v("ele")]),e._v("元素，通过"),_("code",[e._v("ele.getBoundingClientRect()")]),e._v("可以发现在"),_("code",[e._v("y")]),e._v("轴上存在"),_("code",[e._v("0.4px")]),e._v("。"),_("strong",[e._v("这一点和对于大于0.5上移动处理方式应该是类似的。")])]),e._v(" "),_("p",[_("strong",[e._v("对于大于0.5的处理")])]),e._v(" "),_("blockquote",[_("p",[e._v("假设一个1.5px元素")])]),e._v(" "),_("p",[e._v("和上面处理类似，我们将看到一个"),_("code",[e._v("2px")]),e._v("高度元素。")]),e._v(" "),_("p",[_("strong",[e._v("关键在于这个页面布局"),_("code",[e._v("1.5px")]),e._v("，此时是小于"),_("code",[e._v("2px")]),e._v("。")]),e._v(" 如果之后还存在其他元素，对于之后元素的影响如何？")]),e._v(" "),_("p",[e._v("显然后面元素会上移，并遮挡上一个元素"),_("code",[e._v("0.5px")]),e._v("高度。")]),e._v(" "),_("blockquote",[_("p",[e._v("假设是1.8px，那么就会出现遮挡"),_("code",[e._v("0.2px")])])]),e._v(" "),_("h2",{attrs:{id:"px"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#px"}},[e._v("#")]),e._v(" PX")]),e._v(" "),_("blockquote",[_("p",[e._v("先考虑绝对单位的小数点情况")])]),e._v(" "),_("blockquote",[_("p",[e._v("解释了1PX问题")])]),e._v(" "),_("p",[e._v("这部分参考"),_("a",{attrs:{href:"#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86---%E6%B8%B2%E6%9F%93%E4%B8%8E%E5%8D%A0%E7%94%A8"}},[_("strong",[e._v("渲染与占用")])]),e._v("中提到的。")]),e._v(" "),_("p",[e._v("小数点危害还是有的，见"),_("a",{attrs:{href:"https://segmentfault.com/a/1190000012737741",target:"_blank",rel:"noopener noreferrer"}},[e._v("实例分析"),_("OutboundLink")],1),e._v("。")]),e._v(" "),_("h3",{attrs:{id:"解释1px问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#解释1px问题"}},[e._v("#")]),e._v(" 解释"),_("code",[e._v("1PX")]),e._v("问题")]),e._v(" "),_("p",[e._v("同时也可以解释 "),_("strong",[e._v("1PX问题")]),e._v("。结合"),_("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/CSS/css-%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%83%8F%E7%B4%A0%E6%A6%82%E5%BF%B5.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("CSS-物理像素和CSS像素概念"),_("OutboundLink")],1),e._v("，设计稿上的"),_("code",[e._v("1PX")]),e._v("指的是物理像素点。"),_("strong",[e._v("所以写在样式表之后会写出"),_("code",[e._v("0.5px")])]),e._v("，引发出来的问题为：")]),e._v(" "),_("blockquote",[_("p",[e._v("如果是支持"),_("code",[e._v("0.5px")]),e._v("的设备还好。但是如果不支持呢？")])]),e._v(" "),_("p",[e._v("就像是上面分析那样，可能变为"),_("code",[e._v("1PX(CSS-PX)")]),e._v("，这个就会变为"),_("code",[e._v("2个物理像素")]),e._v("。和 "),_("strong",[e._v("设计稿对比就会发现其实是变高了！这就是所谓的"),_("code",[e._v("1PX")]),e._v("问题。")]),e._v(" (就像是你直接写在CSS文件里面的"),_("code",[e._v("1PX")]),e._v("效果一样)")]),e._v(" "),_("p",[_("strong",[e._v("我想关键点在于设备对于小数点的处理导致的！")])]),e._v(" "),_("p",[_("strong",[e._v("如何解决？")])]),e._v(" "),_("ol",[_("li",[_("p",[_("code",[e._v("border-image")]),e._v("实现版本")]),e._v(" "),_("p",[e._v("先要理解"),_("a",{attrs:{href:"https://css-tricks.com/almanac/properties/b/border-image/",target:"_blank",rel:"noopener noreferrer"}},[e._v("border-image"),_("OutboundLink")],1),e._v("几个参数含义，这个"),_("a",{attrs:{href:"https://codepen.io/team/css-tricks/pen/rVdEdp",target:"_blank",rel:"noopener noreferrer"}},[e._v("地址"),_("OutboundLink")],1),e._v("可以帮助理解。")]),e._v(" "),_("p",[_("strong",[e._v("注意第2剪切参数其实是由4个数值组成：分别是top right bottom left。")]),e._v(" 如果是缩写表示4个位置都是一个数值。")]),e._v(" "),_("p",[e._v("具体border.png是什么图片见"),_("a",{attrs:{href:"https://github.com/AlloyTeam/Mars/blob/master/solutions/border-1px.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("链接"),_("OutboundLink")],1)]),e._v(" "),_("div",{staticClass:"language-css extra-class"},[_("pre",{pre:!0,attrs:{class:"language-css"}},[_("code",[_("span",{pre:!0,attrs:{class:"token selector"}},[e._v("// 为什么这段代码可以实现模拟物理像素1px，css像素0.5px\n.border-image-1px")]),e._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),_("span",{pre:!0,attrs:{class:"token property"}},[e._v("border-width")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 1px 0px"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),_("span",{pre:!0,attrs:{class:"token property"}},[e._v("-webkit-border-image")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),_("span",{pre:!0,attrs:{class:"token url"}},[_("span",{pre:!0,attrs:{class:"token function"}},[e._v("url")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v('"border.png"'),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")])]),e._v(" 2 0 stretch"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),_("span",{pre:!0,attrs:{class:"token property"}},[e._v("border-image")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),_("span",{pre:!0,attrs:{class:"token url"}},[_("span",{pre:!0,attrs:{class:"token function"}},[e._v("url")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v('"border.png"'),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")])]),e._v(" 2 0 stretch"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),_("p",[e._v("根据"),_("code",[e._v("border-image top")]),e._v("部分我们获取了"),_("code",[e._v("border.png")]),e._v("上部"),_("code",[e._v("2px")]),e._v("部分，此时"),_("code",[e._v("boder-width")]),e._v("我们定义"),_("code",[e._v("1px")]),e._v("。那么对于 "),_("strong",[e._v("dpr = 2")]),e._v("的设备来说，此时"),_("code",[e._v("boder-width")]),e._v("由两个设备像素点组成。将"),_("code",[e._v("boder.png")]),e._v("压缩至"),_("code",[e._v("1-csspx")]),e._v("显示。由于 "),_("strong",[_("code",[e._v("border.png")]),e._v("上部"),_("code",[e._v("2px")]),e._v("部分有"),_("code",[e._v("1px")]),e._v("是透明的。那么不透明那部分就被1个物理像素点展示")]),e._v("。")]),e._v(" "),_("blockquote",[_("p",[e._v("相当于我们绕过了"),_("code",[e._v("1 css-px")]),e._v("必须由"),_("code",[e._v("2 device-px")]),e._v("显示的限制。原因在于，我们定义"),_("code",[e._v("2px border-image")]),e._v("图片为"),_("code",[e._v("1 css-px")]),e._v("。而这里的"),_("code",[e._v("2px border-image")]),e._v("并 "),_("strong",[e._v("没有")]),e._v(" 在样式表中定义"),_("code",[e._v("2px")]),e._v("(也就不是通过"),_("code",[e._v("4 device-px")]),e._v("展示)，只是我们口头说明。"),_("strong",[e._v("由1 css-px or 2 device-px")]),e._v("展示。")])]),e._v(" "),_("blockquote",[_("p",[e._v("推广开来如果"),_("code",[e._v("dpr=3")]),e._v("，那么我们就需要"),_("code",[e._v("3px")]),e._v("的图片(其中2个px为透明的)，"),_("code",[e._v("1px border-width")]),e._v("。")])]),e._v(" "),_("p",[e._v("对于"),_("code",[e._v("dpr=1")]),e._v("的设备来说，"),_("code",[e._v("1csspx = 1devicepx")]),e._v("也就意味着。我们不需要进行上诉"),_("code",[e._v("border-image")]),e._v("适配，直接写"),_("code",[e._v("border")]),e._v("样式即可。")]),e._v(" "),_("blockquote",[_("p",[e._v("因为"),_("code",[e._v("2px border-image")]),e._v("压缩为"),_("code",[e._v("1 devicepx")]),e._v("显示是做不到的。")])])])]),e._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://juejin.im/entry/584e427361ff4b006cd22c7c",target:"_blank",rel:"noopener noreferrer"}},[e._v("网上全部解决方案"),_("OutboundLink")],1)])]),e._v(" "),_("h2",{attrs:{id:"参考"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"http://web.jobbole.com/84113/",target:"_blank",rel:"noopener noreferrer"}},[e._v("多个小数点元素问题"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);