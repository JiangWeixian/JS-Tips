(window.webpackJsonp=window.webpackJsonp||[]).push([[310],{432:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"nodejs-path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-path"}},[t._v("#")]),t._v(" Nodejs - path")]),t._v(" "),s("blockquote",[s("p",[t._v("大部分接口函数都很好理解")])]),t._v(" "),s("h2",{attrs:{id:"速写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#速写"}},[t._v("#")]),t._v(" 速写")]),t._v(" "),s("ul",[s("li",[t._v("解析路径，获取各部分信息 - "),s("code",[t._v("parse")])]),t._v(" "),s("li",[t._v("以及分别获取路径中的部分信息的接口函数 - "),s("code",[t._v("dirname basename etc")]),t._v("。由于"),s("code",[t._v("windows")]),t._v("系统和"),s("code",[t._v("linux")]),t._v("系统区别，这里也做了对应适配。请注意")]),t._v(" "),s("li",[s("code",[t._v("windows")]),t._v("系统和"),s("code",[t._v("linux")]),t._v("系统的不同，设计了对应的接口，比如"),s("code",[t._v("win32 poxix")]),t._v("。以及获取当前运行平台的风格符号。")]),t._v(" "),s("li",[t._v("格式化 - 根据当前系统风格格式化")]),t._v(" "),s("li",[t._v("判断 - 判断是否是绝对路径，注意不是判断文件信息")])]),t._v(" "),s("p",[s("strong",[t._v("理解，path.relative")])]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("relative")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/data/orandea/test/aaa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/data/orandea/impl/bbb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回: '../../impl/bbb'")]),t._v("\n")])])]),s("p",[t._v("也就是如果假设你在"),s("code",[t._v("/data/orandea/test/aaa")]),t._v("，想要访问"),s("code",[t._v("/data/orandea/impl/bbb")]),t._v("。那么对应的相对路径是什么。")]),t._v(" "),s("p",[s("strong",[t._v("理解，path.resolve() path.join")])]),t._v(" "),s("p",[s("code",[t._v("path.join")]),t._v("简单拼接字符串，以路径的格式。适配性很高，不用担心。")]),t._v(" "),s("p",[s("code",[t._v("path.resolve")]),t._v("是对参数从右边到左边读取的，"),s("strong",[t._v("目的是为了得到一个绝对路径！")])]),t._v(" "),s("p",[t._v("所以如果从右边到左边已经遇到一个绝对路径的参数，那么就会停止函数并返回结果，不会继续。"),s("strong",[t._v("就像是下面代码的第2个函数")])]),t._v(" "),s("p",[t._v("而第1个函数，由于"),s("code",[t._v("./baz")]),t._v("是相对的，而"),s("code",[t._v("/foo/baz")]),t._v("是绝对的(即使前面还有其余参数，也只会解析到这)，所以将 "),s("strong",[t._v("/foo/baz作为根目录解析"),s("code",[t._v("./baz")])]),t._v("。")]),t._v(" "),s("blockquote",[s("p",[t._v("由于是"),s("code",[t._v("./")]),t._v("，所以认为"),s("code",[t._v("foo/baz")]),t._v("是根目录")])]),t._v(" "),s("blockquote",[s("p",[t._v("同时如果第"),s("code",[t._v("./baz")]),t._v("是"),s("code",[t._v("../")]),t._v("开头的话，认为"),s("code",[t._v("/foo")]),t._v("是根目录。返回结果是"),s("code",[t._v("/foo/baz")]),t._v("，可以感受一下区别。")])]),t._v(" "),s("p",[t._v("第3个函数，由于全部都 **没有以/**开头所以都认为是 "),s("strong",[t._v("相对路径")]),t._v("。所以只要把当前文件所在作为根目录。例子假设是 "),s("code",[t._v("/home/myself/node")])]),t._v(" "),s("ol",[s("li",[t._v("从右边到左边解析，"),s("code",[t._v("../")]),t._v("认为 "),s("strong",[t._v("前一个"),s("code",[t._v("static_files/png/")]),t._v("的"),s("code",[t._v("static_files")]),t._v("是根目录。")]),t._v(" 此时得到"),s("code",[t._v("static_files/gif/image.gif")])]),t._v(" "),s("li",[t._v("对于"),s("code",[t._v("static_files/gif/image.gif and wwwroot")]),t._v("虽然是相对的，但是没有"),s("code",[t._v(".. or .")]),t._v("所以直接拼接。")]),t._v(" "),s("li",[t._v("最后和工作目录拼接，得到"),s("code",[t._v("'/home/myself/node/wwwroot/static_files/gif/image.gif'")])])]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./baz'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回: '/foo/bar/baz'")]),t._v("\n\npath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp/file/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回: '/tmp/file'")]),t._v("\n\npath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wwwroot'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'static_files/png/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../gif/image.gif'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果当前工作目录为 /home/myself/node，")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 则返回 '/home/myself/node/wwwroot/static_files/gif/image.gif'")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);