(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{233:function(t,a,s){t.exports=s.p+"assets/img/proto-and-prototype.a95a06a0.png"},270:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"你不知道的javascript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#你不知道的javascript"}},[t._v("#")]),t._v(" 你不知道的JavaScript")]),t._v(" "),n("blockquote",[n("p",[t._v("this&Obj Prototypes(原型链)")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84javascript"}},[t._v("你不知道的JavaScript")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#1-ch1---just-start-this"}},[t._v("1. CH1 - JUST START "),n("strong",[t._v("this")]),t._v("!")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#11-%E5%88%9B%E5%BB%BA%E4%B8%8A%E4%B8%8B%E6%96%87%E7%8E%AF%E5%A2%83this"}},[t._v("1.1 创建上下文环境(this)")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#12-%E6%94%B9%E5%8F%98%E4%B8%8A%E4%B8%8B%E6%96%87%E7%8E%AF%E5%A2%83"}},[t._v("1.2 改变上下文环境")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#13-tips"}},[t._v("1.3 TIPS")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#2-ch2---this%E5%85%A8%E9%9D%A2%E8%A7%A3%E6%9E%90"}},[t._v("2. CH2 - THIS全面解析")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#21-this%E6%8C%87%E5%90%91%E7%9A%84%E6%94%B9%E5%8F%98"}},[t._v("2.1 THIS指向的改变")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#211-%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"}},[t._v("2.1.1 隐式转换")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#212-%E6%98%BE%E5%BC%8F%E8%BD%AC%E6%8D%A2"}},[t._v("2.1.2 显式转换")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#22-%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%9A%84%E6%96%B9%E6%B3%95"}},[t._v("2.2 创建实体的方法")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#3-ch3---%E5%AF%B9%E8%B1%A1objects"}},[t._v("3. CH3 - 对象OBJECTS")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#31-objects-some-tips"}},[t._v("3.1 OBJECTS SOME TIPS")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#32-more"}},[t._v("3.2 More")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#33-%E8%BF%AD%E4%BB%A3%E5%99%A8"}},[t._v("3.3 迭代器")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#4-ch4---class%E6%96%B0%E6%88%90%E5%91%98"}},[t._v("4. CH4 - CLASS、新成员")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#41-%E7%BB%A7%E6%89%BF---inherits"}},[t._v("4.1 继承 - inherits")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#42-%E5%A4%8D%E5%88%B6"}},[t._v("4.2 复制？")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#5-ch5---%E5%8E%9F%E5%9E%8B%E9%93%BE---prototypes"}},[t._v("5. CH5 - 原型链 - PROTOTYPES")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#51-%E5%88%9D%E6%AD%A5---%E5%88%9B%E5%BB%BA%E7%B1%BB%E7%9A%84%E5%87%A0%E4%B8%AA%E6%96%B9%E6%B3%95"}},[t._v("5.1 初步 - 创建类的几个方法")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#511-%E5%88%9D%E6%AD%A5---%E5%85%B3%E4%BA%8E%E5%85%B6%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8Ftips%E6%B3%A8%E6%84%8F"}},[t._v("5.1.1 初步 - 关于其的一些小TIPS/注意")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#52-%E9%80%9A%E8%BF%87%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%BB%A7%E6%89%BF"}},[t._v("5.2 通过原型链继承")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#6-ch6---%E5%A7%94%E6%89%98"}},[t._v("6. CH6 - 委托")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#7-%E9%99%84%E5%BD%95a-es6---class"}},[t._v("7. 附录A ES6 - CLASS")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#71-%E4%BC%98%E7%82%B9%E4%B8%8E%E5%9D%91"}},[t._v("7.1 优点与坑")])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"#8-%E6%80%BB%E7%BB%93"}},[t._v("8. 总结")])])])])]),t._v(" "),n("h2",{attrs:{id:"_1-ch1-just-start-this"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-ch1-just-start-this"}},[t._v("#")]),t._v(" 1. CH1 - JUST START "),n("strong",[t._v("this")]),t._v("!")]),t._v(" "),n("p",[t._v("还是那句话, 任何类型都是对象. 所以对象都可以有"),n("code",[t._v("this")]),t._v("的属性, 包括"),n("code",[t._v("function")]),t._v("或者"),n("code",[t._v("{}")]),t._v("创建的对象.")]),t._v(" "),n("h3",{attrs:{id:"_1-1-创建上下文环境-this"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-创建上下文环境-this"}},[t._v("#")]),t._v(" 1.1 创建上下文环境(this)")]),t._v(" "),n("p",[t._v("当我们创建了一个对象之后, 我们如何使用(或者说是改变)绑定在"),n("code",[t._v("this.xxx")]),t._v("上的东西. 类比"),n("code",[t._v("python self")]),t._v(", 只有我们通过"),n("code",[t._v("xx = a()")]),t._v("令一个"),n("code",[t._v("xx")]),t._v("等于一个类创建的实体.")]),t._v(" "),n("p",[t._v("所以在JavaScript中, 你要真正使用对象内部的属性方法, 最好就是通过"),n("code",[t._v("var")]),t._v("创建这样一个实体, 或者是通过"),n("code",[t._v("new")]),t._v(". 以下:")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("num")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" num "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// keep track of how many times `foo` is called")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nfoo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// foo: 6")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// foo: 7")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// foo: 8")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// foo: 9")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// how many times was `foo` called?")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0 -- WTF?")]),t._v("\n")])])]),n("p",[t._v("直接使用"),n("code",[t._v("foo")]),t._v("是没有效果的. 指的是无法作用在"),n("code",[t._v("foo")]),t._v("中的"),n("code",[t._v("this")]),t._v(". 如果我们要改变这一情况, 那么就只有通过另外的方法, 用"),n("strong",[t._v("其他东西代替"),n("code",[t._v("this")])]),t._v(", 例如:")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("num")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" num "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// keep track of how many times `foo` is called")]),t._v("\n\tfoo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"_1-2-改变上下文环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-改变上下文环境"}},[t._v("#")]),t._v(" 1.2 改变上下文环境")]),t._v(" "),n("p",[t._v("上下文环境指的就是"),n("code",[t._v("this")]),t._v("指向的哪一个对象. "),n("code",[t._v("window")]),t._v("或者是"),n("code",[t._v("function")]),t._v("之类.")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("A.call(B)")]),t._v("可以将A的上下文环境改变成B")])]),t._v(" "),n("h3",{attrs:{id:"_1-3-tips"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-tips"}},[t._v("#")]),t._v(" 1.3 TIPS")]),t._v(" "),n("p",[t._v("类比"),n("code",[t._v("python")]),t._v(", 类中的属性方法想要属于这个类, 必须是通过"),n("code",[t._v("self.xxx")]),t._v("创建或者改变. 其余的方法创建变量都是暂时的变量.")]),t._v(" "),n("p",[t._v("那么在"),n("code",[t._v("JavaScript")]),t._v("中, 想要在那属性方法属于这个类, 必须通过"),n("code",[t._v("this.xxx")]),t._v("创建或者改变. 其余的"),n("code",[t._v("var a = 2")]),t._v("在对象中创建都是属于临时变量, 无法被外部访问的. 类如以下:")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("就算你通过"),n("code",[t._v("var v = new foo()")]),t._v("也是无法访问变量"),n("code",[t._v("a")])]),t._v(" "),n("h2",{attrs:{id:"_2-ch2-this全面解析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-ch2-this全面解析"}},[t._v("#")]),t._v(" 2. CH2 - THIS全面解析")]),t._v(" "),n("h3",{attrs:{id:"_2-1-this指向的改变"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-this指向的改变"}},[t._v("#")]),t._v(" 2.1 THIS指向的改变")]),t._v(" "),n("ul",[n("li",[t._v("上下文=指向。")]),t._v(" "),n("li",[t._v("实体=类。\n"),n("ul",[n("li",[n("code",[t._v("new")]),t._v("可以创建实体")]),t._v(" "),n("li",[n("code",[t._v("var")]),t._v("创建"),n("code",[t._v("object")]),t._v("，本章出现的都是"),n("code",[t._v("var xx = {}")])])])])]),t._v(" "),n("h4",{attrs:{id:"_2-1-1-隐式转换"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-隐式转换"}},[t._v("#")]),t._v(" 2.1.1 隐式转换")]),t._v(" "),n("p",[t._v("其实"),n("code",[t._v("this")]),t._v("是非常容易让人生成误解的。但要明确规则：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("this")]),t._v("指代的上下文，在"),n("strong",[t._v("调用时被改变")]),t._v("!")])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("当我们这样创建"),n("code",[t._v("foo")]),t._v("的时候，此时"),n("code",[t._v("this")]),t._v("指向的是"),n("code",[t._v("windows")]),t._v("。只有通过"),n("code",[t._v("new")]),t._v("之类创建"),n("code",[t._v("foo")]),t._v("的实体的时候，"),n("code",[t._v("this")]),t._v("的上下文（也就是指向）发生了改变。")]),t._v(" "),n("p",[n("strong",[t._v("所以，注意")]),t._v("：")]),t._v(" "),n("ul",[n("li",[t._v("任何出现"),n("code",[t._v("var")]),t._v("或者"),n("code",[t._v("new")]),t._v("的地方，千万注意"),n("code",[t._v("this")]),t._v("的变化。")]),t._v(" "),n("li",[t._v("作为参数传递的时候，也会改变"),n("code",[t._v("this")]),t._v("的指向")])]),t._v(" "),n("h4",{attrs:{id:"_2-1-2-显式转换"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-显式转换"}},[t._v("#")]),t._v(" 2.1.2 显式转换")]),t._v(" "),n("p",[t._v("以下都会改变"),n("code",[t._v("this")]),n("strong",[t._v("临时")]),t._v("上下文。具体用法看文档。"),n("strong",[t._v("注意：如果"),n("code",[t._v("xxx.bind(yyy)")]),t._v("，并不是说yyy具有属性xxx（可以通过yyy.xxx调用那种）。仅仅只是xxx的上下文变成yyy")]),t._v("：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v(".call()")])]),t._v(" "),n("li",[n("code",[t._v(".apply()")])]),t._v(" "),n("li",[n("code",[t._v(".bind()")]),t._v("，这个可以查看绑定到了什么地方。\n"),n("ul",[n("li",[t._v("注意"),n("code",[t._v("bind")]),t._v("是具有返回数值的，即返回这个对象"),n("strong",[t._v("引用")]),t._v("（因为发现并不是返回一个实体）")]),t._v(" "),n("li",[t._v("这个有一点很神奇且奇怪的地方，"),n("code",[t._v("bind")]),t._v("可以传递额外的参数（取决于"),n("code",[t._v("xx.bind(obj, zz)")]),t._v("的"),n("code",[t._v("xx")]),t._v("），而且这个参数保留，至少在用"),n("code",[t._v("new")]),t._v("创建实体的时候，这个参数依旧可以使用。这个属性叫**"),n("code",[t._v("curry")]),t._v("**，并不是"),n("code",[t._v("bind")]),t._v("独有。而是普遍。")])])]),t._v(" "),n("li",[t._v("还有"),n("code",[t._v("ES6")]),t._v("新特性，箭头函数"),n("code",[t._v("=>")]),t._v("，箭头函数捕获上下文"),n("code",[t._v("this")]),t._v("作为自己的"),n("code",[t._v("this")]),t._v("。")])]),t._v(" "),n("p",[n("strong",[t._v("curry")]),t._v("特性：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("greetCurried")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("greeting")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("greeting "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("特别的是"),n("code",[t._v("greetCurried")]),t._v("显然是一个函数，"),n("strong",[t._v("可是到底是具有两个参数的函数？还是一个？")])]),t._v(" "),n("ul",[n("li",[t._v("第一种：")])]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" greetHello "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("greetCurried")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("greetHello")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Heidi"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//"Hello, Heidi"')]),t._v("\n")])])]),n("ul",[n("li",[n("code",[t._v('greetCurried("Hi there")("Howard")')])])]),t._v(" "),n("p",[t._v("所以发现，如果：")]),t._v(" "),n("ul",[n("li",[t._v("返回值是一个函数")]),t._v(" "),n("li",[t._v("且该函数具有多个参数")])]),t._v(" "),n("p",[t._v("该函数可以调用两次，且第一次"),n("strong",[t._v("参数保留")]),t._v("（用法可能要参考第一种/或者第二种，并不是没有限制）。")]),t._v(" "),n("h3",{attrs:{id:"_2-2-创建实体的方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-创建实体的方法"}},[t._v("#")]),t._v(" 2.2 创建实体的方法")]),t._v(" "),n("ul",[n("li",[t._v("常用的"),n("code",[t._v("new")])]),t._v(" "),n("li",[t._v("不常用的"),n("code",[t._v("Object.create(xxx)")])]),t._v(" "),n("li",[t._v("不明显的"),n("code",[t._v("var a = {...}")])])]),t._v(" "),n("h2",{attrs:{id:"_3-ch3-对象objects"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-ch3-对象objects"}},[t._v("#")]),t._v(" 3. CH3 - 对象OBJECTS")]),t._v(" "),n("p",[t._v("简单的分类:")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("literal syntax")]),t._v(" - 通过"),n("code",[t._v("var xx = {...}")]),t._v("创建对象")]),t._v(" "),n("li",[n("code",[t._v("constructed form")]),t._v("- 通过"),n("code",[t._v("new")]),t._v("关键字")])]),t._v(" "),n("h3",{attrs:{id:"_3-1-objects-some-tips"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-objects-some-tips"}},[t._v("#")]),t._v(" 3.1 OBJECTS SOME TIPS")]),t._v(" "),n("ul",[n("li",[t._v("对象属性的获取支持两种形式：\n"),n("ul",[n("li",[n("code",[t._v(".xx")])]),t._v(" "),n("li",[n("code",[t._v("['xx']")]),t._v(" "),n("ul",[n("li",[t._v("关于这一点，值得注意的是，对象的属性名（也就是"),n("code",[t._v("xx")]),t._v("）必须也只能是"),n("code",[t._v("str")]),t._v("。如果不是会被强制转换，例如"),n("code",[t._v('myObject[myObject] = "baz"')]),t._v("会变成"),n("code",[t._v('myObject["[object Object]"]')])])])])])]),t._v(" "),n("li",[t._v("可计算属性名（Computed Property Names）"),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("  [a + b]: xxx\n")])])]),t._v("在对象内部是可以被支持的，不过是在"),n("code",[t._v("ES6")])]),t._v(" "),n("li",[n("code",[t._v("getOwnPropertyDescriptor")]),t._v("等一系列，可以定义对象内部属性。类似给对象加上权限之类。")])]),t._v(" "),n("h3",{attrs:{id:"_3-2-more"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-more"}},[t._v("#")]),t._v(" 3.2 More")]),t._v(" "),n("p",[t._v("还有更多关于对象的东西，特别多，不一一看了。全部的关于"),n("code",[t._v("Object")]),t._v("的属性方法全在"),n("code",[t._v("MDN")]),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/seal",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h3",{attrs:{id:"_3-3-迭代器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-迭代器"}},[t._v("#")]),t._v(" 3.3 迭代器")]),t._v(" "),n("p",[t._v("不要局限"),n("code",[t._v("every")]),t._v("、"),n("code",[t._v("for..each")]),t._v("等等只在"),n("code",[t._v("array")]),t._v("对象上面。其实任何对象都是可以使用这些个函数，例如：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Iterator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @@iterator is used")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// x 10")]),t._v("\n                              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// y 20")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("这只是一个例子。")]),t._v(" "),n("h2",{attrs:{id:"_4-ch4-class、新成员"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-ch4-class、新成员"}},[t._v("#")]),t._v(" 4. CH4 - CLASS、新成员")]),t._v(" "),n("p",[t._v("依旧很难理解，可能也是不怎么使用这一部分的缘故了。")]),t._v(" "),n("p",[t._v("JavaScript支持的"),n("code",[t._v("class")]),t._v("创建类，以下就是模板（"),n("strong",[t._v("不过这个关键字我是没有用过的，太高级了")]),t._v("）：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CoolGuy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tspecialTrick "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nothing\n\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("CoolGuy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("trick")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tspecialTrick "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" trick\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("showOff")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("output")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Here\'s my trick: "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" specialTrick "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"_4-1-继承-inherits"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-继承-inherits"}},[t._v("#")]),t._v(" 4.1 继承 - inherits")]),t._v(" "),n("ul",[n("li",[t._v("类继承的语法规则为 - "),n("code",[t._v("class Car inherits Vehicle")])]),t._v(" "),n("li",[t._v("继承之后如何调用父类的方法 - "),n("code",[t._v("inherited:drive()")]),t._v("，看这一章节的意思。"),n("code",[t._v("ES6")]),t._v("有个"),n("code",[t._v("super")]),t._v("作用等价（或者替代了"),n("code",[t._v("inherited")]),t._v("?）")])]),t._v(" "),n("p",[t._v("以上的确是不常用的"),n("code",[t._v("JavaScript")]),t._v("类的书写方式，而更为常见的是，通过"),n("code",[t._v("function")]),t._v("+"),n("code",[t._v("prototype")]),t._v("书写自己的类。")]),t._v(" "),n("ul",[n("li",[t._v("继承 -"),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Car")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// first, `car` is a `Vehicle`")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" car "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vehicle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// now, let's modify our `car` to specialize it")]),t._v("\n\tcar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wheels "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// save a privileged reference to `Vehicle::drive()`")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" vehDrive "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" car"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("drive"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// override `Vehicle::drive()`")]),t._v("\n\tcar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("drive")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("vehDrive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Rolling on all "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wheels "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" wheels!"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" car"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),n("h3",{attrs:{id:"_4-2-复制？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-复制？"}},[t._v("#")]),t._v(" 4.2 复制？")]),t._v(" "),n("p",[t._v("如题，复制一个新类到另外一个类。并添加额外的属性方法。")]),t._v(" "),n("p",[t._v("书中"),n("code",[t._v("Mixins")]),t._v("提供了一个方法。"),n("strong",[t._v("注意同名函数的调用")]),t._v("。")]),t._v(" "),n("h2",{attrs:{id:"_5-ch5-原型链-prototypes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-ch5-原型链-prototypes"}},[t._v("#")]),t._v(" 5. CH5 - 原型链 - PROTOTYPES")]),t._v(" "),n("p",[t._v("结合类的一些知识一起来理解。来理一理原型链的一些知识，首先看这个图：")]),t._v(" "),n("div",{staticStyle:{"text-align":"center"},attrs:{markdown:"1"}},[n("img",{staticStyle:{"max-width":"70%"},attrs:{src:s(233)}}),t._v(" "),n("p",[n("strong",[t._v("图1、 __proto__和prototype")])])]),t._v(" "),n("p",[t._v("以及回忆一下，之前我们创建一个类（用"),n("code",[t._v("function")]),t._v("的方式）。一般我们都是通过下面这个方式：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  something\n")])])]),n("p",[t._v("如果通过"),n("code",[t._v("a = new Foo()")]),t._v("之后就不可以通过这样的"),n("code",[t._v("prototype")]),t._v("来添加额外的了。也就是不支持动态的追加属性了，这也是可以理解的。")]),t._v(" "),n("p",[t._v("在"),n("strong",[t._v("thisandgrammer.md")]),t._v("中：")]),t._v(" "),n("blockquote",[n("ul",[n("li",[n("code",[t._v("String()")])]),t._v(" "),n("li",[n("code",[t._v("Number()")])]),t._v(" "),n("li",[n("code",[t._v("Boolean()")])]),t._v(" "),n("li",[n("strong",[n("code",[t._v("Array()")])])]),t._v(" "),n("li",[n("strong",[n("code",[t._v("Object()")])])]),t._v(" "),n("li",[n("strong",[n("code",[t._v("Function()")])])]),t._v(" "),n("li",[n("code",[t._v("RegExp()")])]),t._v(" "),n("li",[n("code",[t._v("Date()")])]),t._v(" "),n("li",[n("code",[t._v("Error()")])]),t._v(" "),n("li",[n("code",[t._v("Symbol()")])])])]),t._v(" "),n("p",[t._v("发现"),n("code",[t._v("function")]),t._v("属于内建函数的一种（不过话说回来，似乎也就只有"),n("code",[t._v("function")]),t._v("可以通过这样的方式添加"),n("code",[t._v("prototype")]),t._v("）。这里只是想说明，只有内建函有"),n("strong",[t._v("直接的属性")]),n("code",[t._v("prototype")]),t._v("，其他的"),n("strong",[t._v("通过"),n("code",[t._v("var a = {...}")]),t._v("创建的其实并没有"),n("code",[t._v("a.prototype")]),t._v("的属性。")])]),t._v(" "),n("p",[t._v("结合图1，发现除了"),n("code",[t._v("prototype")]),t._v("之外，类（或者对象）其实还有很多属性，比如"),n("code",[t._v("__proto__")]),t._v("和"),n("code",[t._v("constructor")]),t._v("。那么"),n("code",[t._v("__proto__")]),t._v("和"),n("code",[t._v("prototype")]),t._v("有说明关系呢？")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("__proto__")]),t._v("指向的是父类，就像是"),n("code",[t._v("function")]),t._v("指向的是"),n("code",[t._v("obj")]),t._v("。如果"),n("code",[t._v("a = new Foo()")]),t._v("，那么"),n("code",[t._v("a")]),t._v("指向的就是"),n("code",[t._v("function")]),t._v("。而且"),n("code",[t._v("a")]),t._v("的"),n("code",[t._v("__proto__")]),t._v("里面包含的是"),n("code",[t._v("function")]),t._v("的"),n("code",[t._v("prototype")]),t._v("。相当于我复制了一份"),n("code",[t._v("function")]),t._v("的"),n("code",[t._v("prototype")]),t._v("到"),n("code",[t._v("a")]),t._v("里面。以次类推，"),n("code",[t._v("a")]),t._v("的"),n("code",[t._v("__proto__")]),t._v("的"),n("code",[t._v("function")]),t._v("，还有一个"),n("code",[t._v("__proto__")]),t._v("，etc...")]),t._v(" "),n("li",[t._v("所以"),n("code",[t._v("__proto__")]),t._v("可以理解为存放指针的地方，而这个指针就是"),n("code",[t._v("prototype")])])]),t._v(" "),n("p",[t._v("不清楚你就，"),n("code",[t._v("a = new Foo()")]),t._v("把"),n("code",[t._v("a")]),t._v("打印出来看看。")]),t._v(" "),n("p",[t._v("那么通过"),n("code",[t._v("var a = {...}")]),t._v("创建的"),n("code",[t._v("prototype")]),t._v("又在哪里呢，可能在"),n("code",[t._v("constructor")]),t._v("里面，还是那句话，打印出来看看。")]),t._v(" "),n("h3",{attrs:{id:"_5-1-初步-创建类的几个方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-初步-创建类的几个方法"}},[t._v("#")]),t._v(" 5.1 初步 - 创建类的几个方法")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("var a = {}")]),t._v(" - 没有直接的"),n("code",[t._v("prototype")])]),t._v(" "),n("li",[n("code",[t._v("new")]),t._v(" - 会调用"),n("code",[t._v("constructor")]),t._v("/无法继续添加"),n("code",[t._v("prototype.xx")])]),t._v(" "),n("li",[n("code",[t._v("Object.create()")]),t._v(" -\n"),n("ul",[n("li",[t._v("经验性的总结就是，传入的参数最好是一个"),n("strong",[t._v("对象")]),t._v("，即通过以上两点创建的。")]),t._v(" "),n("li",[t._v("不是，也不会报错。就是要清楚，"),n("code",[t._v("Object.create(xx)")]),t._v("返回的是一个到"),n("code",[t._v("xx")]),t._v("的链接。"),n("strong",[t._v("也即是说返回的是一个等价"),n("code",[t._v("xx")]),t._v("的东西。")]),t._v(" 最好小心使用！")])])])]),t._v(" "),n("h3",{attrs:{id:"_5-1-1-初步-关于其的一些小tips-注意"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-1-初步-关于其的一些小tips-注意"}},[t._v("#")]),t._v(" 5.1.1 初步 - 关于其的一些小TIPS/注意")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("可以通过"),n("code",[t._v(".")]),t._v("来设置对象的一些属性。其实调用的是"),n("code",[t._v("[[GET]]")]),t._v("方法。")])]),t._v(" "),n("li",[n("p",[t._v("最好通过"),n("code",[t._v("Object")]),t._v("中内建的一些方法，来"),n("strong",[t._v("获取/判断对象的属性")])])]),t._v(" "),n("li",[n("p",[t._v("我们通过"),n("code",[t._v("a = new Foo()")]),t._v("来创建一个"),n("code",[t._v("a")]),t._v("的时候，其实并不是得到一个复制对象。其实从"),n("code",[t._v("a.xx")]),t._v("调用"),n("code",[t._v("xx")]),t._v("方法的时候，可以从这个角度理解，就是其实是通过"),n("code",[t._v("[[GET]]")]),t._v("来查找"),n("code",[t._v("xx")]),t._v("方法，在"),n("code",[t._v("prototype")]),t._v("或者更早的"),n("code",[t._v("prototype")])])]),t._v(" "),n("li",[n("p",[t._v("在之前的实践中，往往经验告诉我们，通过"),n("code",[t._v("instanceof")]),t._v("效果比"),n("code",[t._v("typeof")]),t._v("更为优秀。这里提到了一种更好的方式，就是通过"),n("code",[t._v("Foo.prototype.isPrototypeOf( a )")]),t._v("，大致含义就是：")]),t._v(" "),n("blockquote",[n("p",[t._v("在a的整个[[Prototype]]链中，Foo.prototype出现过吗？")])])]),t._v(" "),n("li",[n("p",[t._v("但这并不能一言确定，因为以上"),n("code",[t._v("instanceof")]),t._v("以及以上推荐的方法往往只适合通过"),n("code",[t._v("new")]),t._v("关键字创建的。"),n("code",[t._v("typeof")]),t._v("适合大多数情况，比如"),n("code",[t._v("a = 'super'")]),t._v("，对"),n("code",[t._v("a")]),t._v("判断是否属于字符串。")])])]),t._v(" "),n("h2",{attrs:{id:"_5-2-通过原型链继承"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-通过原型链继承"}},[t._v("#")]),t._v(" 5.2 通过原型链继承")]),t._v(" "),n("p",[t._v("文中提供了一个模板：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myName")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里，我们创建一个新的`Bar.prototype`链接链到`Foo.prototype`")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意！现在`Bar.prototype.constructor`不存在了，")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果你有依赖这个属性的习惯的话，可以被手动“修复”。")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myLabel")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"_6-ch6-委托"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-ch6-委托"}},[t._v("#")]),t._v(" 6. CH6 - 委托")]),t._v(" "),n("p",[t._v("JavaScript里面的继承委托十分难以理解，所以这里提到了委托。希望把继承的概念转换为链接（委托）。被称之为"),n("strong",[t._v("OLOO")]),t._v("：面向链接（委托）。")]),t._v(" "),n("p",[t._v("在"),n("strong",[t._v("5.2节")]),t._v("中，利用的是通过原型链创建对象（继承）。这里指的是用委托，完全不一样的思维方式。")]),t._v(" "),n("p",[t._v("文中认为委托的方式实现的继承比原型链继承更加优秀。"),n("strong",[t._v("委托代码")]),t._v("示例如下：")]),t._v(" "),n("div",{staticClass:"language-JavaScript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("who")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("me "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" who"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("identify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I am "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("me"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Bar "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" Foo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nBar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("speak")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("identify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" Bar "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nb1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" Bar "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nb2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b2"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nb1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("speak")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nb2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("speak")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("这里可能没办法发现两者到底区别优秀的地方，主要是在"),n("code",[t._v("__proto__")]),t._v("等指向上面，委托的概念比原型链的概念更加优秀一点。")]),t._v(" "),n("p",[n("strong",[t._v("注意")]),t._v("：")]),t._v(" "),n("ul",[n("li",[t._v("如果以上示例代码是通过"),n("code",[t._v("function")]),t._v("，那么"),n("code",[t._v("var Bar = Object.create( Foo )")]),t._v("应该是"),n("code",[t._v("var Bar.prototype = Object.create( Foo.prototype)")]),t._v("才对。之后在"),n("code",[t._v("Bar")]),t._v("追加额外的方法，也是通过"),n("code",[t._v("Bar.prototype.xx = xx")]),t._v("。")]),t._v(" "),n("li",[t._v("如果要调用父类的方法，和原型链一样，都是通过"),n("code",[t._v(".call")]),t._v("方法。不过有些不同：\n"),n("ul",[n("li",[t._v("如果是"),n("code",[t._v("var Bar.prototype = Object.create( Foo.prototype)")]),t._v("，那么应该是"),n("code",[t._v("Bar.prototype.call")]),t._v("来调用父类方法才对。")])])])]),t._v(" "),n("h2",{attrs:{id:"_7-附录a-es6-class"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-附录a-es6-class"}},[t._v("#")]),t._v(" 7. 附录A ES6 - CLASS")]),t._v(" "),n("p",[t._v("具体请参考语法书，在形式上和实际上，和委托一样简洁。")]),t._v(" "),n("p",[t._v("至于是否优秀，就要进一步阅读。")]),t._v(" "),n("p",[t._v("文中认为"),n("code",[t._v("OLOO")]),t._v("结合"),n("code",[t._v("ES6")]),t._v("简约的声明函数方法。可以更加优秀。")]),t._v(" "),n("h3",{attrs:{id:"_7-1-优点与坑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-优点与坑"}},[t._v("#")]),t._v(" 7.1 优点与坑")]),t._v(" "),n("p",[n("code",[t._v("ES6")]),t._v("的确解决了一些问题，包括：")]),t._v(" "),n("ul",[n("li",[t._v("明显的基础语法"),n("code",[t._v("extends")])]),t._v(" "),n("li",[t._v("明显的自定义构造器函数定义")])]),t._v(" "),n("p",[t._v("而且看起来的确更加的简介，但是书中并不提议使用，一定有它的不足。")]),t._v(" "),n("p",[t._v("说实话，对于坑的地方太高深了，看不太懂...")]),t._v(" "),n("h2",{attrs:{id:"_8-总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-总结"}},[t._v("#")]),t._v(" 8. 总结")]),t._v(" "),n("p",[t._v("这一章节主要讲解的"),n("code",[t._v("this")]),t._v("和"),n("code",[t._v("prototype")]),t._v("。")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("this")]),t._v("在什么时候出现，如何改变指向（指的就是上下文环境指向），利用"),n("code",[t._v("call")]),t._v("和"),n("code",[t._v("bind")])]),t._v(" "),n("li",[t._v("如何将数组的一些方法作用在普通对象上")]),t._v(" "),n("li",[t._v("关于原型链的一些知识")]),t._v(" "),n("li",[t._v("实现类的几种方式/实现类继承的一些方式，最好的办法就是利用书中所提到的委托方法。简洁有效。")]),t._v(" "),n("li",[n("code",[t._v("es6")]),t._v("的"),n("code",[t._v("class")]),t._v("不推荐使用！仍然推荐的是委托的方法。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);