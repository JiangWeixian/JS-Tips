(window.webpackJsonp=window.webpackJsonp||[]).push([[250],{610:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#继承"}},[t._v("#")]),t._v(" 继承")]),t._v(" "),s("blockquote",[s("p",[t._v("一切都是Object")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E7%BB%A7%E6%89%BF"}},[t._v("继承")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86---%E4%B8%80%E5%88%87%E9%83%BD%E6%98%AFobject"}},[t._v("前置知识 - 一切都是Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86---js%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%BB%A5%E5%8F%8A%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"}},[t._v("前置知识 - JS数值类型以及引用类型")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86---__proto__--prototype"}},[t._v("前置知识 - "),s("code",[t._v("__proto__ && prototype")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E7%BB%A7%E6%89%BF-1"}},[t._v("继承")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#es6-%E7%BB%A7%E6%89%BF"}},[t._v("ES6-继承")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%AE%9E%E8%B7%B5tips---%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E4%BB%94%E7%BB%86%E4%BA%86%E8%A7%A3"}},[t._v("实践Tips - 调用父类仔细了解")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"}},[t._v("两种方式的区别")])])])])])])]),t._v(" "),s("h2",{attrs:{id:"前置知识-js数值类型以及引用类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前置知识-js数值类型以及引用类型"}},[t._v("#")]),t._v(" 前置知识 - JS数值类型以及引用类型")]),t._v(" "),s("p",[t._v("没错JS存在引用类型，除了"),s("code",[t._v("Object && Array")]),t._v("之外都是数值类型。")]),t._v(" "),s("p",[t._v("引用类型有什么问题，请看"),s("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Grammar/JS%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%B7%AE%E5%BC%82.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("这篇文章"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"前置知识-proto-prototype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前置知识-proto-prototype"}},[t._v("#")]),t._v(" 前置知识 - "),s("code",[t._v("__proto__ && prototype")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("__proto__")]),t._v("总是一层层的向上指，直到尽头，指向"),s("code",[t._v("原型.prototype")])]),t._v(" "),s("li",[t._v("也就是说如果我让"),s("code",[t._v("prototype")]),t._v("的 "),s("strong",[t._v("存放的东西变化")]),t._v("，就能够实现继承")])]),t._v(" "),s("h2",{attrs:{id:"继承-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#继承-2"}},[t._v("#")]),t._v(" 继承")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myName")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("label")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",[s("li",[t._v("因为"),s("code",[t._v("new")]),t._v("可以创建指针，所以"),s("code",[t._v("Bar.prototype = new Foo()")]),t._v("改变"),s("code",[t._v("prototype")]),t._v("这个指向。")]),t._v(" "),s("li",[s("code",[t._v("Object.create")]),t._v("同样有创建指针的工作。因此可以通过"),s("code",[t._v("Bar.prototype=Object.create(Foo.prototype)")])])]),t._v(" "),s("p",[t._v("如果对象是以下这种形式的")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Foo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("who")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("me "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" who"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("identify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I am "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("me"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Bar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" Foo "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nBar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("speak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("identify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("同样是"),s("code",[t._v("Object.create")]),t._v("，通过"),s("code",[t._v("var Bar = Object.create( Foo );")])])]),t._v(" "),s("p",[t._v("第二点和第三点有什么区别？")]),t._v(" "),s("ul",[s("li",[t._v("第一点和第二点都要再通过"),s("code",[t._v("new Bar")]),t._v("来创建一个对象，而第三点不用。")]),t._v(" "),s("li",[t._v("添加额外的函数"),s("code",[t._v("Bar.speak")]),t._v("而前面两个是"),s("code",[t._v("Bar.prototype.speak")])]),t._v(" "),s("li",[t._v("如果直接打印"),s("code",[t._v("Bar")]),t._v("（第二点和第三点），可以发现第三点的"),s("code",[t._v("__proto__")]),t._v("更少，指向更清晰。")])]),t._v(" "),s("p",[s("strong",[t._v("注意1：")]),t._v(" 上面我们通过了"),s("code",[t._v("init")]),t._v("而不是直接再"),s("code",[t._v("Foo")]),t._v("上添加"),s("code",[t._v("me")]),t._v("属性，原因在于 **直接在添加会让所有下面的继承和实例共享。**通过"),s("code",[t._v("init")]),t._v("替代了"),s("code",[t._v("constructor")]),t._v("可以在之后构建中将"),s("code",[t._v("this")]),t._v("指向"),s("code",[t._v("Bar")]),t._v("，具体可以见"),s("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Books/tree/master/JS%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/CH4-%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85%E5%AD%98",target:"_blank",rel:"noopener noreferrer"}},[t._v("JS高级程序设计-继承最佳实践"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("strong",[t._v("注意2：")]),t._v(" 如果直接使用"),s("code",[t._v("Bar.prototype = Foo.prototype")]),t._v("虽然起到了指向作用，但是"),s("code",[t._v("Foo.prototype")]),t._v("并不是新创建的，所以指向的是原始的"),s("code",[t._v("Foo")]),t._v("。任何一方的改动都会影响到两者。")]),t._v(" "),s("h3",{attrs:{id:"es6-继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#es6-继承"}},[t._v("#")]),t._v(" ES6-继承")]),t._v(" "),s("p",[t._v("添加了"),s("code",[t._v("class")]),t._v("关键字，"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN教程"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("如果你会"),s("code",[t._v("python")]),t._v("，理解起来没差别。")]),t._v(" "),s("h2",{attrs:{id:"实践tips-调用父类仔细了解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实践tips-调用父类仔细了解"}},[t._v("#")]),t._v(" 实践Tips - 调用父类仔细了解")]),t._v(" "),s("p",[s("code",[t._v("JavaScript")]),t._v("实现类有几种方式。最佳实践见"),s("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Books/tree/master/JS%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/CH4-%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85%E5%AD%98",target:"_blank",rel:"noopener noreferrer"}},[t._v("JS高级程序设计-继承最佳实践"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("strong",[t._v("第一种方式")])]),t._v(" "),s("p",[t._v("包括像"),s("a",{attrs:{href:"https://github.com/JiangWeixian/JS-Books/blob/master/JS%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%A0%88/stack.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("stack.js"),s("OutboundLink")],1),t._v("方式,在"),s("code",[t._v("function")]),t._v("中使用"),s("code",[t._v("this")]),t._v(",通过"),s("code",[t._v("constructor")]),t._v("来实现方法。")]),t._v(" "),s("p",[s("strong",[t._v("第二种方式")])]),t._v(" "),s("p",[t._v("就是以上在"),s("code",[t._v("prototype")]),t._v("的方式.")]),t._v(" "),s("p",[s("strong",[t._v("注意"),s("code",[t._v("Foo.call(this)")]),t._v("是实现继承的关键。因为要改变"),s("code",[t._v("this")]),t._v("指向")])]),t._v(" "),s("h3",{attrs:{id:"两种方式的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#两种方式的区别"}},[t._v("#")]),t._v(" 两种方式的区别")]),t._v(" "),s("p",[t._v("虽然两个都能够实现类的方式,区别在于:")]),t._v(" "),s("ol",[s("li",[t._v("第一种方式只能够通过"),s("code",[t._v("xx.prototype = new YY()")]),t._v(" - 因为"),s("code",[t._v("this")]),t._v("只有在"),s("code",[t._v("new")]),t._v("创建的时候指定。这部分还有可能导致全局变量的污染(当直接使用"),s("code",[t._v("YY()")]),t._v(")")]),t._v(" "),s("li",[t._v("而 "),s("strong",[t._v("第二种方法创建的类都行")])])]),t._v(" "),s("p",[t._v("因为第一种方式的限制,因此第一种方式实现的继承")]),t._v(" "),s("ol",[s("li",[t._v("可以重写方法,但是无法调用父类的方法再重写 - "),s("strong",[t._v("因为YY()上面的方法没有"),s("code",[t._v("new")]),t._v("就无法访问")])])]),t._v(" "),s("p",[t._v("以上"),s("code",[t._v("prototype")]),t._v("分为"),s("code",[t._v("function or object")])]),t._v(" "),s("ol",[s("li",[s("code",[t._v("function")]),t._v("调用父类 - "),s("code",[t._v("yy.prototype.somefunc.call(this)")])]),t._v(" "),s("li",[s("code",[t._v("object")]),t._v("调用父类 - "),s("code",[t._v("yy.somefunc.call(this)")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);