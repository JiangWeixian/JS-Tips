(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{301:function(t,a,e){"use strict";e.r(a);var r=e(0),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"reactnative"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reactnative"}},[t._v("#")]),t._v(" ReactNative")]),t._v(" "),e("blockquote",[e("p",[t._v("原生应用开发")])]),t._v(" "),e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("p",[t._v("我是先学的"),e("code",[t._v("Vue")]),t._v("。"),e("code",[t._v("react")]),t._v("并没有学过。")]),t._v(" "),e("p",[t._v("为什么不用"),e("code",[t._v("weex")]),t._v("，因为文档太少。"),e("code",[t._v("reactnative")]),t._v("文档多，社区比较活跃。")]),t._v(" "),e("p",[t._v("所以这里只会记录，怎么做，并没有为什么。")]),t._v(" "),e("p",[t._v("平台"),e("code",[t._v("linux")]),t._v("，"),e("code",[t._v("Android")]),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"正文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#正文"}},[t._v("#")]),t._v(" 正文")]),t._v(" "),e("p",[t._v("从安装开始。甩手就是一片"),e("a",{attrs:{href:"https://facebook.github.io/react-native/docs/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),e("OutboundLink")],1),t._v("。"),e("strong",[t._v("已经假设已经安装好了Android sdk,如果没有，直接安装android studio。一切解决。")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("react-native init projectname\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" projectname\nreactnative run-android\n")])])]),e("ul",[e("li",[t._v("如果没有"),e("code",[t._v("sdk")]),t._v("安装路径，请在"),e("code",[t._v("~/bashrc")]),t._v("指定，一般实在"),e("code",[t._v("~/Android/Sdk")]),t._v("。这部分文档中有。")]),t._v(" "),e("li",[e("code",[t._v("linux")]),t._v("可以命令行安装"),e("code",[t._v("platform-tools")]),t._v("。而"),e("code",[t._v("android studio")]),t._v("下载时候会帮你下载好。这两部分可能会冲突，版本号不一致。做法就是把"),e("code",[t._v("~/Android/Sdk")]),t._v("某个文件夹下复制到"),e("code",[t._v("~/usr/bin")]),t._v("下即可")])]),t._v(" "),e("p",[t._v("大致是没有问题了。")]),t._v(" "),e("h3",{attrs:{id:"使用react-native-camera"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用react-native-camera"}},[t._v("#")]),t._v(" 使用"),e("code",[t._v("react-native-camera")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/react-native-community/react-native-camera",target:"_blank",rel:"noopener noreferrer"}},[t._v("地址"),e("OutboundLink")],1),t._v("，安装方法readme有写。这个步骤是不会出问题。")]),t._v(" "),e("p",[t._v("关键在于"),e("code",[t._v("reactnative run-android")]),t._v("，可能会出现的error。")]),t._v(" "),e("h4",{attrs:{id:"errors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#errors"}},[t._v("#")]),t._v(" Errors")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/react-native-community/react-native-camera/issues/1530",target:"_blank",rel:"noopener noreferrer"}},[t._v("gradle版本太低，因为react-native要求高"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/JiangWeixian/articles/master/%E4%B8%8D%E4%BD%9C%E6%AD%BB%E5%B0%B1%E4%B8%8D%E4%BC%9A%E6%AD%BB/img/nznd03%20-%20grable.png",alt:"gradle"}})]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/react-community/react-native-maps/issues/2158",target:"_blank",rel:"noopener noreferrer"}},[t._v("com.android.support:support-v4 error"),e("OutboundLink")],1),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("dependencies "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\ncompile "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.android.support:appcompat-v7:27.1.0"')]),t._v(" // 后面版本高一点就行\n")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"http://www.cnblogs.com/cute/p/5004839.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("resource没有找到"),e("OutboundLink")],1),t._v(" - "),e("code",[t._v("app/build.gradle")]),t._v("里面"),e("code",[t._v('compileSdkVersion 27 buildToolsVersion "26.1.0"')]),t._v("因为要和电脑上的版本一直。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/facebook/react-native/issues/16332",target:"_blank",rel:"noopener noreferrer"}},[t._v("invariant violation element type is invalid"),e("OutboundLink")],1),t._v(" - 这是因为"),e("code",[t._v("babel")]),t._v("问题，"),e("code",[t._v("app.js")]),t._v("需要export defalut "),e("code",[t._v("class")]),t._v("。这里要注意："),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("class  BadInstagramCloneApp extends Component \n//..\nexport BadInstagramCloneApp 记得分开写\n")])])])]),t._v(" "),e("li",[e("code",[t._v("require txt")]),t._v("等文件，在根目录下追加文件"),e("code",[t._v("rn-cli.config.js")]),e("div",{staticClass:"language-Javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAssetExts")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pb'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'txt'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//pb txt都是文件后缀名")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])}),[],!1,null,null,null);a.default=s.exports}}]);