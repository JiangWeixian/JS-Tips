(window.webpackJsonp=window.webpackJsonp||[]).push([[317],{353:function(v,_,o){"use strict";o.r(_);var e=o(0),t=Object(e.a)({},(function(){var v=this,_=v.$createElement,o=v._self._c||_;return o("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[o("h1",{attrs:{id:"react-slot"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#react-slot"}},[v._v("#")]),v._v(" React - slot")]),v._v(" "),o("blockquote",[o("p",[v._v("关于react 如何组合内容思考")])]),v._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#react---slot"}},[v._v("React - slot")]),v._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#%E5%89%8D%E8%A8%80"}},[v._v("前言")]),v._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#%E4%B8%BA%E4%BB%80%E4%B9%88"}},[o("strong",[v._v("为什么？")])])])])]),v._v(" "),o("li",[o("a",{attrs:{href:"#in-react"}},[v._v("In React")]),v._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#%E7%BB%84%E4%BB%B6%E5%8C%96"}},[v._v("组件化")])]),v._v(" "),o("li",[o("a",{attrs:{href:"#%E7%AC%A6%E5%90%88%E7%BD%91%E9%A1%B5%E9%80%BB%E8%BE%91"}},[o("strong",[v._v("符合网页逻辑")])])])])])])])]),v._v(" "),o("h2",{attrs:{id:"前言"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[v._v("#")]),v._v(" 前言")]),v._v(" "),o("blockquote",[o("p",[v._v("分析现有组合元素方式")])]),v._v(" "),o("p",[o("code",[v._v("react")]),v._v("真的非常灵活，除了最多使用"),o("code",[v._v("class")]),v._v("方式，可以是"),o("code",[v._v("function")]),v._v("等方式。")]),v._v(" "),o("p",[v._v("至于组合组件，举例来说，加入现在有一个"),o("code",[v._v("card")]),v._v("的元素，基于这个单位你可能想要有"),o("code",[v._v("reviewcard")]),v._v("或者其他类型元素。")]),v._v(" "),o("p",[v._v("就是"),o("code",[v._v("component")]),v._v("以及"),o("code",[v._v("container")]),v._v("之间关系。")]),v._v(" "),o("p",[o("strong",[v._v("就我的水平对于"),o("code",[v._v("component")]),v._v("以及"),o("code",[v._v("container")]),v._v("之间的理解：")])]),v._v(" "),o("ol",[o("li",[o("p",[o("code",[v._v("component")]),v._v("应该更关系"),o("code",[v._v("ui")]),v._v("部分，以及无论数据格式")]),v._v(" "),o("blockquote",[o("p",[v._v("就像是card 需要展示图片对应的字段是"),o("code",[v._v("img")]),v._v("，但是"),o("code",[v._v("img")]),v._v("在"),o("code",[v._v("container")]),v._v("中可能就会有其他类型的标识。例如是"),o("code",[v._v("thubnailimg")]),v._v("之类的标识。所以在使用"),o("code",[v._v("component")]),v._v("之前应该先进行映射。")])])]),v._v(" "),o("li",[o("p",[o("code",[v._v("container")]),v._v("接受的是 "),o("strong",[v._v("原始数据源以及逻辑操作（指的是类似"),o("code",[v._v("onclick")]),v._v("之类的）")])]),v._v(" "),o("blockquote",[o("p",[o("strong",[v._v("container")]),v._v("组件组合方式应该是确定，如果不是这样的方式，个人认为应该是新建"),o("strong",[v._v("或者有其他更好的方式")]),v._v("，见"),o("a",{attrs:{href:"#%E7%BB%84%E4%BB%B6%E5%8C%96"}},[v._v("组件化")])])])])]),v._v(" "),o("p",[o("strong",[v._v("更进一步")])]),v._v(" "),o("p",[v._v("也就是说"),o("code",[v._v("container")]),o("strong",[v._v("从极限角度来说")]),v._v("来说就不应关心"),o("code",[v._v("ui")]),v._v("。所有的的任何布局都可以通过在"),o("code",[v._v("component")]),v._v("部分完善。")]),v._v(" "),o("h3",{attrs:{id:"为什么？"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#为什么？"}},[v._v("#")]),v._v(" "),o("strong",[v._v("为什么？")])]),v._v(" "),o("blockquote",[o("p",[v._v("为什么能够这么区分")])]),v._v(" "),o("p",[v._v("结合"),o("a",{attrs:{href:"#%E7%AC%A6%E5%90%88%E7%BD%91%E9%A1%B5%E9%80%BB%E8%BE%91"}},[o("strong",[v._v("符合网页逻辑")])]),v._v("里面提到的组件组合方式。")]),v._v(" "),o("p",[v._v("举例来说"),o("code",[v._v("component.card")]),v._v("，而"),o("code",[v._v("container.reviewcard")]),v._v("继承"),o("code",[v._v("component.card")])]),v._v(" "),o("p",[o("code",[v._v("container.reviewcard")]),v._v("的布局不应该脱离"),o("code",[v._v("compoent.card")]),v._v("，除非又有了另外一种卡片类型，代表另外一种布局。")]),v._v(" "),o("p",[o("strong",[v._v("另外更重要的是：")])]),v._v(" "),o("p",[o("code",[v._v("container.reviewcard")]),v._v("内部包含的组件应该是可以确定的。"),o("code",[v._v("reviewcard")]),v._v("应该包含"),o("code",[v._v("avatar")]),v._v("，右上角的下拉，以及底部的操作按钮。")]),v._v(" "),o("p",[v._v("那么对"),o("code",[v._v("reviewcard")]),v._v("来说，操作就已经是固定的了。想要脱离这样的逻辑，就有可能是独立出"),o("code",[v._v("reviewcard")]),v._v("的容器。")]),v._v(" "),o("h2",{attrs:{id:"in-react"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#in-react"}},[v._v("#")]),v._v(" In React")]),v._v(" "),o("blockquote",[o("p",[v._v("在 react 中应该如何组合组件")])]),v._v(" "),o("p",[v._v("首先我们要坚定几个原则")]),v._v(" "),o("ol",[o("li",[v._v("组件化")]),v._v(" "),o("li",[v._v("slot")]),v._v(" "),o("li",[v._v("符合网页逻辑")])]),v._v(" "),o("h3",{attrs:{id:"组件化"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#组件化"}},[v._v("#")]),v._v(" 组件化")]),v._v(" "),o("blockquote",[o("p",[v._v("重点在于结合数据的方式")])]),v._v(" "),o("p",[v._v("参考的方向是"),o("code",[v._v("vue")]),v._v("数据驱动，以及原生"),o("code",[v._v("dom")]),v._v("。")]),v._v(" "),o("p",[v._v("要分"),o("code",[v._v("compoent")]),v._v("以及"),o("code",[v._v("container")]),v._v("两种进行考虑：")]),v._v(" "),o("ol",[o("li",[o("p",[o("code",[v._v("component")])]),v._v(" "),o("ul",[o("li",[o("code",[v._v("attr")]),v._v("传递原始数据，组件对应需要的数据")]),v._v(" "),o("li",[v._v("如何给"),o("code",[v._v("component")]),v._v("传递子组件应该是通过类似"),o("a",{attrs:{href:"#%E7%AC%A6%E5%90%88%E7%BD%91%E9%A1%B5%E9%80%BB%E8%BE%91"}},[o("strong",[v._v("符合网页逻辑")])]),v._v("包裹的方式或者是是"),o("code",[v._v("slot")]),v._v("的方式")])])]),v._v(" "),o("li",[o("p",[o("code",[v._v("container")])]),v._v(" "),o("ul",[o("li",[o("p",[o("code",[v._v("attr")]),v._v("传递原始数据，作为"),o("code",[v._v("component")]),v._v("作为数据源")]),v._v(" "),o("blockquote",[o("p",[v._v("可以理解为在"),o("code",[v._v("component")]),v._v("外部包裹了一层数据，就是有"),o("code",[v._v("component.head")]),v._v("，就会有"),o("code",[v._v("container.reviewhead")]),v._v("，选择最轻松的包裹方式就可以了")])])]),v._v(" "),o("li",[o("p",[v._v("传递组件，按道理来说，组件应该是有一部分是写死的。")]),v._v(" "),o("blockquote",[o("p",[v._v("以及有两种方案是可选的，一种是写死全部应该有的组件。而对应组件逻辑方式可以通过外部传递。")])]),v._v(" "),o("blockquote",[o("p",[v._v("另外一种方案是直接传递的是逻辑操作的组件")])]),v._v(" "),o("p",[o("strong",[v._v("就目前来看，我好像更喜欢第二种方式")])]),v._v(" "),o("p",[v._v("第二种方式的好处在于，在"),o("code",[v._v("container")]),v._v("组件内部可以不需要通过判断是否有外部数据传递，直接渲染"),o("strong",[v._v("那部分传递的逻辑组件就可以了。")])])])])])]),v._v(" "),o("h3",{attrs:{id:"符合网页逻辑"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#符合网页逻辑"}},[v._v("#")]),v._v(" "),o("strong",[v._v("符合网页逻辑")])]),v._v(" "),o("blockquote",[o("p",[v._v("和"),o("code",[v._v("slot")]),v._v("一起说")])]),v._v(" "),o("p",[v._v("原生"),o("code",[v._v("dom")]),v._v("含有的标签应该是"),o("strong",[v._v("原子类型")]),v._v("的数据。可以发现一些标签传递的数据是通过：")]),v._v(" "),o("blockquote",[o("p",[v._v("有以下两种方式")])]),v._v(" "),o("ol",[o("li",[v._v("通过"),o("code",[v._v("attr")]),v._v(" - 传递数据以及传递组件")]),v._v(" "),o("li",[v._v("通过包裹标签的方式 - 也就是"),o("code",[v._v("slot")]),v._v("的方式")])]),v._v(" "),o("p",[v._v("下面两个文章有指导意义。")]),v._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://daveceddia.com/pluggable-slots-in-react-components/",target:"_blank",rel:"noopener noreferrer"}},[v._v("react-slot 方式"),o("OutboundLink")],1)]),v._v(" "),o("li",[o("a",{attrs:{href:"https://medium.com/@Dane_s/react-js-compound-components-a6e54b5c9992",target:"_blank",rel:"noopener noreferrer"}},[v._v("react-包裹方式"),o("OutboundLink")],1)])]),v._v(" "),o("p",[v._v("无论对于"),o("code",[v._v("component")]),v._v("以及"),o("code",[v._v("container")]),v._v("来说:")]),v._v(" "),o("blockquote",[o("p",[v._v("包裹的方式只能够"),o("strong",[v._v("适合"),o("code",[v._v("one child")]),v._v("以及重复的"),o("code",[v._v("childlist")])])])]),v._v(" "),o("p",[v._v("而对于"),o("code",[v._v("slot")]),v._v("的方式来说，适合多个需要内容分发的元素。"),o("code",[v._v("componen")]),v._v("在某些情况下是需要的。")]),v._v(" "),o("p",[v._v("而"),o("code",[v._v("container")]),v._v("是否需要"),o("code",[v._v("slot")]),v._v("支持。我觉得按照之前的逻辑，"),o("strong",[v._v("传递给"),o("code",[v._v("container")]),v._v("的是业务数据，以及含有逻辑（指的是和 state）交互的"),o("code",[v._v("slot")])])]),v._v(" "),o("p",[v._v("而传递给"),o("code",[v._v("component")]),v._v("的数据应该是映射好的数据，以及"),o("code",[v._v("slot")]),v._v("，而对于"),o("code",[v._v("component")]),v._v("来说，"),o("code",[v._v("slot")]),v._v("或许更加重要。但是并不是必须的，就像是"),o("code",[v._v("list.item")]),v._v("，"),o("code",[v._v("item")]),v._v("是否需要再细分"),o("code",[v._v("slot")]),v._v("进行就没有那么必要。（个人认为）")]),v._v(" "),o("p",[v._v("对于"),o("code",[v._v("ui(原子部分来说)")]),v._v("，应该数据是更为重要的。")])])}),[],!1,null,null,null);_.default=t.exports}}]);