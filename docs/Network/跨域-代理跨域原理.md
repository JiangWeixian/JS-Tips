---
tag: 安全策略
---

# 代理跨域 - 原理
> 跨域只发生在浏览器和服务器之间

[[toc]]

## 前置知识 - 跨域

跨域一般发生在浏览器和服务器之间。

只要浏览器所浏览的页面为`(A)https://www.a.com`，而服务器的地址为`(B)https://www.b.com`。`A->B`发起了请求，那么就会出现 **跨域的问题**。

## 原理解释

**但是重点注意[跨域](#前置知识---跨域)** 中提到的跨域发生在浏览器和服务器之间，但是不会发生在 **服务器和服务器之间。**

> 这也就是为什么说 **跨域是浏览器的安全策略。**

以上，也就是代理跨域实现的关键。

首先回顾一下前端开发的情形，我们会在`localhost: 8080`打开我们的页面。**可是一般情况下，打开`html`文件** 是通过双击`.html`文件然后在浏览器打开的。**那么`localhost:8080`能够显示页面的原理是什么？**

> 毫无疑问，`webpack`建立一个小型的服务器；

同时我们知道`webpack`可以实现反向代理，配置项具体为：将原本`localhost:3000/song`请求地址，在`webpack`建立的服务器中同样也建立了一个`localhost:8080/song`的地址(这是通过配置项目创建的)

**页面地址向代理服务器**

那么此时页面地址是`localhost:8080`，请求地址由`localhost:3000/song->localhost:8080/song`。这样，页面地址和请求地址就存在与相同服务器上，也就不存在跨域问题了。

**代理服务器向真正服务器**

由于服务器之间不存在跨域，所以`(代理服务器)localhost:8080`可以向`(真正服务器)localhost:3000`发送请求