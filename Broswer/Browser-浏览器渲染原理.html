<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器渲染原理 | 蒋微咸博客</title>
    <meta name="description" content="">
    <link rel="icon" href="/JS-Tips/favicon.png" type="image/x-icon">
    <meta name="image" content="https://raw.githubusercontent.com/JiangWeixian/JS-Tips/master/Broswer/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.png"><meta name="twitter:title" content="浏览器渲染原理"><meta name="twitter:description" content=""><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://raw.githubusercontent.com/JiangWeixian/JS-Tips/master/Broswer/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.png"><meta name="twitter:creator" content="@jiangweixian"><meta property="og:type" content="article"><meta property="og:title" content="浏览器渲染原理"><meta property="og:description" content=""><meta property="og:image" content="https://raw.githubusercontent.com/JiangWeixian/JS-Tips/master/Broswer/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.png"><meta property="article:author" content="jiangweixian"><meta itemprop="name" content="浏览器渲染原理"><meta itemprop="description" content=""><meta itemprop="image" content="https://raw.githubusercontent.com/JiangWeixian/JS-Tips/master/Broswer/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.png">
    <link rel="preload" href="/JS-Tips/assets/css/0.styles.4a8c2099.css" as="style"><link rel="preload" href="/JS-Tips/assets/js/app.c031357a.js" as="script"><link rel="preload" href="/JS-Tips/assets/js/3.658f9ec3.js" as="script"><link rel="preload" href="/JS-Tips/assets/js/169.3021e95e.js" as="script"><link rel="prefetch" href="/JS-Tips/assets/js/1.dede7660.js"><link rel="prefetch" href="/JS-Tips/assets/js/10.8c14515f.js"><link rel="prefetch" href="/JS-Tips/assets/js/100.822923b3.js"><link rel="prefetch" href="/JS-Tips/assets/js/101.01fb89cc.js"><link rel="prefetch" href="/JS-Tips/assets/js/102.5706dd0f.js"><link rel="prefetch" href="/JS-Tips/assets/js/103.f8f404d7.js"><link rel="prefetch" href="/JS-Tips/assets/js/104.2f6cce45.js"><link rel="prefetch" href="/JS-Tips/assets/js/105.529a7697.js"><link rel="prefetch" href="/JS-Tips/assets/js/106.07ec4776.js"><link rel="prefetch" href="/JS-Tips/assets/js/107.e16d8017.js"><link rel="prefetch" href="/JS-Tips/assets/js/108.a75a2933.js"><link rel="prefetch" href="/JS-Tips/assets/js/109.3c4c564e.js"><link rel="prefetch" href="/JS-Tips/assets/js/11.353c5353.js"><link rel="prefetch" href="/JS-Tips/assets/js/110.dd864d13.js"><link rel="prefetch" href="/JS-Tips/assets/js/111.4a4b872c.js"><link rel="prefetch" href="/JS-Tips/assets/js/112.9f040827.js"><link rel="prefetch" href="/JS-Tips/assets/js/113.fd8b238a.js"><link rel="prefetch" href="/JS-Tips/assets/js/114.2edab702.js"><link rel="prefetch" href="/JS-Tips/assets/js/115.ff13a645.js"><link rel="prefetch" href="/JS-Tips/assets/js/116.31e0db52.js"><link rel="prefetch" href="/JS-Tips/assets/js/117.e85bc756.js"><link rel="prefetch" href="/JS-Tips/assets/js/118.e292ab78.js"><link rel="prefetch" href="/JS-Tips/assets/js/119.a3d5f95f.js"><link rel="prefetch" href="/JS-Tips/assets/js/12.cbcd89d8.js"><link rel="prefetch" href="/JS-Tips/assets/js/120.98e726df.js"><link rel="prefetch" href="/JS-Tips/assets/js/121.a43541e7.js"><link rel="prefetch" href="/JS-Tips/assets/js/122.a65a51c3.js"><link rel="prefetch" href="/JS-Tips/assets/js/123.f9057e3b.js"><link rel="prefetch" href="/JS-Tips/assets/js/124.29fc5f2b.js"><link rel="prefetch" href="/JS-Tips/assets/js/125.492ee29a.js"><link rel="prefetch" href="/JS-Tips/assets/js/126.42f264e6.js"><link rel="prefetch" href="/JS-Tips/assets/js/127.b3ce3f58.js"><link rel="prefetch" href="/JS-Tips/assets/js/128.41fd81d1.js"><link rel="prefetch" href="/JS-Tips/assets/js/129.0e6d45d1.js"><link rel="prefetch" href="/JS-Tips/assets/js/13.e32d5da5.js"><link rel="prefetch" href="/JS-Tips/assets/js/130.13b87eea.js"><link rel="prefetch" href="/JS-Tips/assets/js/131.6a6ed65a.js"><link rel="prefetch" href="/JS-Tips/assets/js/132.8bcdd060.js"><link rel="prefetch" href="/JS-Tips/assets/js/133.4359b984.js"><link rel="prefetch" href="/JS-Tips/assets/js/134.953f51c4.js"><link rel="prefetch" href="/JS-Tips/assets/js/135.bf744765.js"><link rel="prefetch" href="/JS-Tips/assets/js/136.762afe9b.js"><link rel="prefetch" href="/JS-Tips/assets/js/137.ec36877e.js"><link rel="prefetch" href="/JS-Tips/assets/js/138.78c18649.js"><link rel="prefetch" href="/JS-Tips/assets/js/139.6eb1a456.js"><link rel="prefetch" href="/JS-Tips/assets/js/14.ca7b48c4.js"><link rel="prefetch" href="/JS-Tips/assets/js/140.e663c16e.js"><link rel="prefetch" href="/JS-Tips/assets/js/141.8f0efb22.js"><link rel="prefetch" href="/JS-Tips/assets/js/142.686d770d.js"><link rel="prefetch" href="/JS-Tips/assets/js/143.a98498f9.js"><link rel="prefetch" href="/JS-Tips/assets/js/144.9db5fe9d.js"><link rel="prefetch" href="/JS-Tips/assets/js/145.d796acfb.js"><link rel="prefetch" href="/JS-Tips/assets/js/146.d9185c14.js"><link rel="prefetch" href="/JS-Tips/assets/js/147.088c8b4d.js"><link rel="prefetch" href="/JS-Tips/assets/js/148.00c80944.js"><link rel="prefetch" href="/JS-Tips/assets/js/149.26b5fd06.js"><link rel="prefetch" href="/JS-Tips/assets/js/15.7f4457a6.js"><link rel="prefetch" href="/JS-Tips/assets/js/150.593bba4b.js"><link rel="prefetch" href="/JS-Tips/assets/js/151.d8d2fb52.js"><link rel="prefetch" href="/JS-Tips/assets/js/152.d4ebdd60.js"><link rel="prefetch" href="/JS-Tips/assets/js/153.82f53db0.js"><link rel="prefetch" href="/JS-Tips/assets/js/154.c5c9c1ba.js"><link rel="prefetch" href="/JS-Tips/assets/js/155.26896795.js"><link rel="prefetch" href="/JS-Tips/assets/js/156.5291853a.js"><link rel="prefetch" href="/JS-Tips/assets/js/157.ddd90dae.js"><link rel="prefetch" href="/JS-Tips/assets/js/158.86c49f2d.js"><link rel="prefetch" href="/JS-Tips/assets/js/159.02153f17.js"><link rel="prefetch" href="/JS-Tips/assets/js/16.e9cb493c.js"><link rel="prefetch" href="/JS-Tips/assets/js/160.f6730ab2.js"><link rel="prefetch" href="/JS-Tips/assets/js/161.49e76759.js"><link rel="prefetch" href="/JS-Tips/assets/js/162.9335bd84.js"><link rel="prefetch" href="/JS-Tips/assets/js/163.1ad4e183.js"><link rel="prefetch" href="/JS-Tips/assets/js/164.096e94fe.js"><link rel="prefetch" href="/JS-Tips/assets/js/165.2add8b81.js"><link rel="prefetch" href="/JS-Tips/assets/js/166.a1d0ddc0.js"><link rel="prefetch" href="/JS-Tips/assets/js/167.7804974e.js"><link rel="prefetch" href="/JS-Tips/assets/js/168.6cf0ed32.js"><link rel="prefetch" href="/JS-Tips/assets/js/17.2c6e3556.js"><link rel="prefetch" href="/JS-Tips/assets/js/170.10e1b3b7.js"><link rel="prefetch" href="/JS-Tips/assets/js/171.7fa49e2e.js"><link rel="prefetch" href="/JS-Tips/assets/js/172.e7169c85.js"><link rel="prefetch" href="/JS-Tips/assets/js/173.60e1b5bc.js"><link rel="prefetch" href="/JS-Tips/assets/js/174.d36aa50e.js"><link rel="prefetch" href="/JS-Tips/assets/js/175.1160d03a.js"><link rel="prefetch" href="/JS-Tips/assets/js/176.1b9ea8a3.js"><link rel="prefetch" href="/JS-Tips/assets/js/177.983577f0.js"><link rel="prefetch" href="/JS-Tips/assets/js/178.300ad1d9.js"><link rel="prefetch" href="/JS-Tips/assets/js/179.bd1f03a9.js"><link rel="prefetch" href="/JS-Tips/assets/js/18.8ba7b6ad.js"><link rel="prefetch" href="/JS-Tips/assets/js/180.7c7eeac8.js"><link rel="prefetch" href="/JS-Tips/assets/js/181.27822b2c.js"><link rel="prefetch" href="/JS-Tips/assets/js/182.c30838bc.js"><link rel="prefetch" href="/JS-Tips/assets/js/183.1403c69f.js"><link rel="prefetch" href="/JS-Tips/assets/js/184.d3d2e961.js"><link rel="prefetch" href="/JS-Tips/assets/js/185.8f7901da.js"><link rel="prefetch" href="/JS-Tips/assets/js/186.4e96b99c.js"><link rel="prefetch" href="/JS-Tips/assets/js/187.36444dbe.js"><link rel="prefetch" href="/JS-Tips/assets/js/188.e2581abe.js"><link rel="prefetch" href="/JS-Tips/assets/js/189.6d265859.js"><link rel="prefetch" href="/JS-Tips/assets/js/19.a6b38c95.js"><link rel="prefetch" href="/JS-Tips/assets/js/190.cdb9b2cf.js"><link rel="prefetch" href="/JS-Tips/assets/js/191.ab074cf1.js"><link rel="prefetch" href="/JS-Tips/assets/js/192.409fe630.js"><link rel="prefetch" href="/JS-Tips/assets/js/193.88ef652e.js"><link rel="prefetch" href="/JS-Tips/assets/js/194.1aca2de1.js"><link rel="prefetch" href="/JS-Tips/assets/js/195.d1cf31b9.js"><link rel="prefetch" href="/JS-Tips/assets/js/196.852d30d0.js"><link rel="prefetch" href="/JS-Tips/assets/js/197.08328f29.js"><link rel="prefetch" href="/JS-Tips/assets/js/198.ee431759.js"><link rel="prefetch" href="/JS-Tips/assets/js/199.d4831623.js"><link rel="prefetch" href="/JS-Tips/assets/js/20.f4e233c0.js"><link rel="prefetch" href="/JS-Tips/assets/js/200.f7eca852.js"><link rel="prefetch" href="/JS-Tips/assets/js/201.7f8a49c1.js"><link rel="prefetch" href="/JS-Tips/assets/js/202.bdb996ff.js"><link rel="prefetch" href="/JS-Tips/assets/js/203.6cdba06c.js"><link rel="prefetch" href="/JS-Tips/assets/js/204.1ff23025.js"><link rel="prefetch" href="/JS-Tips/assets/js/205.1d8500e1.js"><link rel="prefetch" href="/JS-Tips/assets/js/206.13900a5b.js"><link rel="prefetch" href="/JS-Tips/assets/js/207.c64bb5bf.js"><link rel="prefetch" href="/JS-Tips/assets/js/208.34e23c5b.js"><link rel="prefetch" href="/JS-Tips/assets/js/209.68d9d9fe.js"><link rel="prefetch" href="/JS-Tips/assets/js/21.9ec0da45.js"><link rel="prefetch" href="/JS-Tips/assets/js/210.e829b511.js"><link rel="prefetch" href="/JS-Tips/assets/js/211.9d07d1cc.js"><link rel="prefetch" href="/JS-Tips/assets/js/212.cf89a592.js"><link rel="prefetch" href="/JS-Tips/assets/js/213.1e736c12.js"><link rel="prefetch" href="/JS-Tips/assets/js/214.e3969bde.js"><link rel="prefetch" href="/JS-Tips/assets/js/215.2852db75.js"><link rel="prefetch" href="/JS-Tips/assets/js/216.8adc14d1.js"><link rel="prefetch" href="/JS-Tips/assets/js/217.d2a98eb6.js"><link rel="prefetch" href="/JS-Tips/assets/js/218.8250b388.js"><link rel="prefetch" href="/JS-Tips/assets/js/219.2e366157.js"><link rel="prefetch" href="/JS-Tips/assets/js/22.d8caba86.js"><link rel="prefetch" href="/JS-Tips/assets/js/220.f540e0bf.js"><link rel="prefetch" href="/JS-Tips/assets/js/221.becfc978.js"><link rel="prefetch" href="/JS-Tips/assets/js/222.de18aeec.js"><link rel="prefetch" href="/JS-Tips/assets/js/223.2f6f5f17.js"><link rel="prefetch" href="/JS-Tips/assets/js/224.a86e9f14.js"><link rel="prefetch" href="/JS-Tips/assets/js/225.99b9437b.js"><link rel="prefetch" href="/JS-Tips/assets/js/226.cb6d8f9d.js"><link rel="prefetch" href="/JS-Tips/assets/js/227.7c5d25d2.js"><link rel="prefetch" href="/JS-Tips/assets/js/228.56ecea03.js"><link rel="prefetch" href="/JS-Tips/assets/js/229.77bd8cda.js"><link rel="prefetch" href="/JS-Tips/assets/js/23.b804de3c.js"><link rel="prefetch" href="/JS-Tips/assets/js/230.fc737804.js"><link rel="prefetch" href="/JS-Tips/assets/js/231.8e8b4f21.js"><link rel="prefetch" href="/JS-Tips/assets/js/232.552c6046.js"><link rel="prefetch" href="/JS-Tips/assets/js/233.82c3bd48.js"><link rel="prefetch" href="/JS-Tips/assets/js/234.bea9b84c.js"><link rel="prefetch" href="/JS-Tips/assets/js/235.1a87e6ed.js"><link rel="prefetch" href="/JS-Tips/assets/js/236.563789fa.js"><link rel="prefetch" href="/JS-Tips/assets/js/237.07e0fb68.js"><link rel="prefetch" href="/JS-Tips/assets/js/238.1a6ac487.js"><link rel="prefetch" href="/JS-Tips/assets/js/239.2ba31bcb.js"><link rel="prefetch" href="/JS-Tips/assets/js/24.6d433e6f.js"><link rel="prefetch" href="/JS-Tips/assets/js/240.ea74d39e.js"><link rel="prefetch" href="/JS-Tips/assets/js/241.0915e485.js"><link rel="prefetch" href="/JS-Tips/assets/js/242.d06372fd.js"><link rel="prefetch" href="/JS-Tips/assets/js/243.0d16dc37.js"><link rel="prefetch" href="/JS-Tips/assets/js/244.635ae151.js"><link rel="prefetch" href="/JS-Tips/assets/js/245.baf1a892.js"><link rel="prefetch" href="/JS-Tips/assets/js/246.25e4ac35.js"><link rel="prefetch" href="/JS-Tips/assets/js/247.a06fca3c.js"><link rel="prefetch" href="/JS-Tips/assets/js/248.3c258b98.js"><link rel="prefetch" href="/JS-Tips/assets/js/249.484077ee.js"><link rel="prefetch" href="/JS-Tips/assets/js/25.860db231.js"><link rel="prefetch" href="/JS-Tips/assets/js/250.43506170.js"><link rel="prefetch" href="/JS-Tips/assets/js/251.55d0573a.js"><link rel="prefetch" href="/JS-Tips/assets/js/252.f56b3167.js"><link rel="prefetch" href="/JS-Tips/assets/js/253.376afa2c.js"><link rel="prefetch" href="/JS-Tips/assets/js/254.00ee9631.js"><link rel="prefetch" href="/JS-Tips/assets/js/255.6dbbc64e.js"><link rel="prefetch" href="/JS-Tips/assets/js/256.cc4216f1.js"><link rel="prefetch" href="/JS-Tips/assets/js/257.b24801ce.js"><link rel="prefetch" href="/JS-Tips/assets/js/258.d48cf0ab.js"><link rel="prefetch" href="/JS-Tips/assets/js/259.72c1a229.js"><link rel="prefetch" href="/JS-Tips/assets/js/26.b7ec2b9a.js"><link rel="prefetch" href="/JS-Tips/assets/js/260.6c9f55ed.js"><link rel="prefetch" href="/JS-Tips/assets/js/261.3c0ca2b6.js"><link rel="prefetch" href="/JS-Tips/assets/js/262.3eb6ccec.js"><link rel="prefetch" href="/JS-Tips/assets/js/263.b2ac8287.js"><link rel="prefetch" href="/JS-Tips/assets/js/264.d6f86137.js"><link rel="prefetch" href="/JS-Tips/assets/js/265.b03c3520.js"><link rel="prefetch" href="/JS-Tips/assets/js/266.cbdd1870.js"><link rel="prefetch" href="/JS-Tips/assets/js/267.3f497688.js"><link rel="prefetch" href="/JS-Tips/assets/js/268.0cc56528.js"><link rel="prefetch" href="/JS-Tips/assets/js/269.8bc8acd6.js"><link rel="prefetch" href="/JS-Tips/assets/js/27.61e8aa35.js"><link rel="prefetch" href="/JS-Tips/assets/js/270.e5a25b52.js"><link rel="prefetch" href="/JS-Tips/assets/js/271.a07ef815.js"><link rel="prefetch" href="/JS-Tips/assets/js/272.522b7d6e.js"><link rel="prefetch" href="/JS-Tips/assets/js/273.77f312c6.js"><link rel="prefetch" href="/JS-Tips/assets/js/274.9a2e404e.js"><link rel="prefetch" href="/JS-Tips/assets/js/275.32405467.js"><link rel="prefetch" href="/JS-Tips/assets/js/276.2d62f881.js"><link rel="prefetch" href="/JS-Tips/assets/js/277.2ecb865d.js"><link rel="prefetch" href="/JS-Tips/assets/js/278.958c4816.js"><link rel="prefetch" href="/JS-Tips/assets/js/279.1564876a.js"><link rel="prefetch" href="/JS-Tips/assets/js/28.b61a9754.js"><link rel="prefetch" href="/JS-Tips/assets/js/280.c45046c6.js"><link rel="prefetch" href="/JS-Tips/assets/js/281.0e5bec2b.js"><link rel="prefetch" href="/JS-Tips/assets/js/282.cdd3847c.js"><link rel="prefetch" href="/JS-Tips/assets/js/283.de315a53.js"><link rel="prefetch" href="/JS-Tips/assets/js/284.c042f37a.js"><link rel="prefetch" href="/JS-Tips/assets/js/285.cbc5587c.js"><link rel="prefetch" href="/JS-Tips/assets/js/286.3e74ddb2.js"><link rel="prefetch" href="/JS-Tips/assets/js/287.81e7a24d.js"><link rel="prefetch" href="/JS-Tips/assets/js/288.e337ef9a.js"><link rel="prefetch" href="/JS-Tips/assets/js/289.a1550c11.js"><link rel="prefetch" href="/JS-Tips/assets/js/29.1f2ce99f.js"><link rel="prefetch" href="/JS-Tips/assets/js/290.48af6f03.js"><link rel="prefetch" href="/JS-Tips/assets/js/291.b75628f4.js"><link rel="prefetch" href="/JS-Tips/assets/js/292.c62aeee9.js"><link rel="prefetch" href="/JS-Tips/assets/js/293.c88615d4.js"><link rel="prefetch" href="/JS-Tips/assets/js/294.fe61aea9.js"><link rel="prefetch" href="/JS-Tips/assets/js/295.f60c0a73.js"><link rel="prefetch" href="/JS-Tips/assets/js/296.dfd5ecb1.js"><link rel="prefetch" href="/JS-Tips/assets/js/297.ac6c2909.js"><link rel="prefetch" href="/JS-Tips/assets/js/298.5e8db1bc.js"><link rel="prefetch" href="/JS-Tips/assets/js/299.c0e1b042.js"><link rel="prefetch" href="/JS-Tips/assets/js/30.cbfc65be.js"><link rel="prefetch" href="/JS-Tips/assets/js/300.968b3b4d.js"><link rel="prefetch" href="/JS-Tips/assets/js/301.ceb0416e.js"><link rel="prefetch" href="/JS-Tips/assets/js/302.dcc7f2b5.js"><link rel="prefetch" href="/JS-Tips/assets/js/303.ac67d0b7.js"><link rel="prefetch" href="/JS-Tips/assets/js/304.5de2e732.js"><link rel="prefetch" href="/JS-Tips/assets/js/305.667462ec.js"><link rel="prefetch" href="/JS-Tips/assets/js/306.083ef57b.js"><link rel="prefetch" href="/JS-Tips/assets/js/307.e388f615.js"><link rel="prefetch" href="/JS-Tips/assets/js/308.0db9d6bb.js"><link rel="prefetch" href="/JS-Tips/assets/js/309.cec9a9da.js"><link rel="prefetch" href="/JS-Tips/assets/js/31.8f8f4e19.js"><link rel="prefetch" href="/JS-Tips/assets/js/310.3e62e496.js"><link rel="prefetch" href="/JS-Tips/assets/js/311.75da5c2f.js"><link rel="prefetch" href="/JS-Tips/assets/js/312.72384ca4.js"><link rel="prefetch" href="/JS-Tips/assets/js/313.6935b1e6.js"><link rel="prefetch" href="/JS-Tips/assets/js/314.4a94da1b.js"><link rel="prefetch" href="/JS-Tips/assets/js/315.9afccb5a.js"><link rel="prefetch" href="/JS-Tips/assets/js/316.7500eb57.js"><link rel="prefetch" href="/JS-Tips/assets/js/317.ed1211ff.js"><link rel="prefetch" href="/JS-Tips/assets/js/318.f5d92b98.js"><link rel="prefetch" href="/JS-Tips/assets/js/319.7cab1ec5.js"><link rel="prefetch" href="/JS-Tips/assets/js/32.774913f5.js"><link rel="prefetch" href="/JS-Tips/assets/js/320.a6156f1c.js"><link rel="prefetch" href="/JS-Tips/assets/js/321.507096d6.js"><link rel="prefetch" href="/JS-Tips/assets/js/322.b8bd85d2.js"><link rel="prefetch" href="/JS-Tips/assets/js/323.a03a9f0c.js"><link rel="prefetch" href="/JS-Tips/assets/js/324.6416a246.js"><link rel="prefetch" href="/JS-Tips/assets/js/325.d928d10f.js"><link rel="prefetch" href="/JS-Tips/assets/js/326.8dca351c.js"><link rel="prefetch" href="/JS-Tips/assets/js/327.e7c63c65.js"><link rel="prefetch" href="/JS-Tips/assets/js/328.59528865.js"><link rel="prefetch" href="/JS-Tips/assets/js/329.24404b0f.js"><link rel="prefetch" href="/JS-Tips/assets/js/33.fba5662f.js"><link rel="prefetch" href="/JS-Tips/assets/js/330.3538239b.js"><link rel="prefetch" href="/JS-Tips/assets/js/331.93e2a945.js"><link rel="prefetch" href="/JS-Tips/assets/js/332.c584a0fa.js"><link rel="prefetch" href="/JS-Tips/assets/js/333.d43b1e61.js"><link rel="prefetch" href="/JS-Tips/assets/js/334.12f780a2.js"><link rel="prefetch" href="/JS-Tips/assets/js/335.fb2103f8.js"><link rel="prefetch" href="/JS-Tips/assets/js/336.6969da62.js"><link rel="prefetch" href="/JS-Tips/assets/js/337.31ec5e60.js"><link rel="prefetch" href="/JS-Tips/assets/js/338.e37f9b9e.js"><link rel="prefetch" href="/JS-Tips/assets/js/339.f21acf75.js"><link rel="prefetch" href="/JS-Tips/assets/js/34.56e46fda.js"><link rel="prefetch" href="/JS-Tips/assets/js/340.756c5581.js"><link rel="prefetch" href="/JS-Tips/assets/js/341.674afe40.js"><link rel="prefetch" href="/JS-Tips/assets/js/342.6fcfd1d7.js"><link rel="prefetch" href="/JS-Tips/assets/js/343.f4bad521.js"><link rel="prefetch" href="/JS-Tips/assets/js/344.8dc61165.js"><link rel="prefetch" href="/JS-Tips/assets/js/345.e49afaf0.js"><link rel="prefetch" href="/JS-Tips/assets/js/346.5c474c7e.js"><link rel="prefetch" href="/JS-Tips/assets/js/347.e546eb29.js"><link rel="prefetch" href="/JS-Tips/assets/js/348.e6e4868c.js"><link rel="prefetch" href="/JS-Tips/assets/js/349.27d8453c.js"><link rel="prefetch" href="/JS-Tips/assets/js/35.104b6e37.js"><link rel="prefetch" href="/JS-Tips/assets/js/350.5941b93c.js"><link rel="prefetch" href="/JS-Tips/assets/js/351.3c57435e.js"><link rel="prefetch" href="/JS-Tips/assets/js/352.0e87e3e7.js"><link rel="prefetch" href="/JS-Tips/assets/js/353.a16fc696.js"><link rel="prefetch" href="/JS-Tips/assets/js/354.09782ca7.js"><link rel="prefetch" href="/JS-Tips/assets/js/355.41ae2b68.js"><link rel="prefetch" href="/JS-Tips/assets/js/356.d8bb86c6.js"><link rel="prefetch" href="/JS-Tips/assets/js/357.8f18939d.js"><link rel="prefetch" href="/JS-Tips/assets/js/358.2ff8e119.js"><link rel="prefetch" href="/JS-Tips/assets/js/359.5d46a42e.js"><link rel="prefetch" href="/JS-Tips/assets/js/36.7c535669.js"><link rel="prefetch" href="/JS-Tips/assets/js/360.f0dd87dd.js"><link rel="prefetch" href="/JS-Tips/assets/js/361.42555fc7.js"><link rel="prefetch" href="/JS-Tips/assets/js/362.25c46864.js"><link rel="prefetch" href="/JS-Tips/assets/js/363.a107d922.js"><link rel="prefetch" href="/JS-Tips/assets/js/364.b5cc6595.js"><link rel="prefetch" href="/JS-Tips/assets/js/365.5c67630a.js"><link rel="prefetch" href="/JS-Tips/assets/js/366.c137b490.js"><link rel="prefetch" href="/JS-Tips/assets/js/367.46a01a5c.js"><link rel="prefetch" href="/JS-Tips/assets/js/368.7cbdd2c3.js"><link rel="prefetch" href="/JS-Tips/assets/js/369.5c94863f.js"><link rel="prefetch" href="/JS-Tips/assets/js/37.2beb9012.js"><link rel="prefetch" href="/JS-Tips/assets/js/38.0e996392.js"><link rel="prefetch" href="/JS-Tips/assets/js/39.c902a6e0.js"><link rel="prefetch" href="/JS-Tips/assets/js/4.933d18e2.js"><link rel="prefetch" href="/JS-Tips/assets/js/40.37586e72.js"><link rel="prefetch" href="/JS-Tips/assets/js/41.f2070a38.js"><link rel="prefetch" href="/JS-Tips/assets/js/42.c98965d9.js"><link rel="prefetch" href="/JS-Tips/assets/js/43.5014613d.js"><link rel="prefetch" href="/JS-Tips/assets/js/44.df4bea48.js"><link rel="prefetch" href="/JS-Tips/assets/js/45.cb3da39f.js"><link rel="prefetch" href="/JS-Tips/assets/js/46.65bb8e6e.js"><link rel="prefetch" href="/JS-Tips/assets/js/47.ddb3aee3.js"><link rel="prefetch" href="/JS-Tips/assets/js/48.44a8ff68.js"><link rel="prefetch" href="/JS-Tips/assets/js/49.7bbaa0f2.js"><link rel="prefetch" href="/JS-Tips/assets/js/5.754882ac.js"><link rel="prefetch" href="/JS-Tips/assets/js/50.3bea1492.js"><link rel="prefetch" href="/JS-Tips/assets/js/51.f5737ec4.js"><link rel="prefetch" href="/JS-Tips/assets/js/52.6bdd4a54.js"><link rel="prefetch" href="/JS-Tips/assets/js/53.c1aff7d9.js"><link rel="prefetch" href="/JS-Tips/assets/js/54.ff85ce4d.js"><link rel="prefetch" href="/JS-Tips/assets/js/55.7c138db2.js"><link rel="prefetch" href="/JS-Tips/assets/js/56.41c63e07.js"><link rel="prefetch" href="/JS-Tips/assets/js/57.f2170eff.js"><link rel="prefetch" href="/JS-Tips/assets/js/58.37ed364f.js"><link rel="prefetch" href="/JS-Tips/assets/js/59.05474fba.js"><link rel="prefetch" href="/JS-Tips/assets/js/6.d8b4f6bb.js"><link rel="prefetch" href="/JS-Tips/assets/js/60.be6c4be7.js"><link rel="prefetch" href="/JS-Tips/assets/js/61.65016757.js"><link rel="prefetch" href="/JS-Tips/assets/js/62.e2e85fca.js"><link rel="prefetch" href="/JS-Tips/assets/js/63.5be23ef2.js"><link rel="prefetch" href="/JS-Tips/assets/js/64.4b4c628e.js"><link rel="prefetch" href="/JS-Tips/assets/js/65.27e67879.js"><link rel="prefetch" href="/JS-Tips/assets/js/66.956d4a72.js"><link rel="prefetch" href="/JS-Tips/assets/js/67.1486f61b.js"><link rel="prefetch" href="/JS-Tips/assets/js/68.b018d335.js"><link rel="prefetch" href="/JS-Tips/assets/js/69.d07c18d9.js"><link rel="prefetch" href="/JS-Tips/assets/js/7.9f84c114.js"><link rel="prefetch" href="/JS-Tips/assets/js/70.c4cb4f47.js"><link rel="prefetch" href="/JS-Tips/assets/js/71.8ed0e15d.js"><link rel="prefetch" href="/JS-Tips/assets/js/72.7edc7ad9.js"><link rel="prefetch" href="/JS-Tips/assets/js/73.d94c82f7.js"><link rel="prefetch" href="/JS-Tips/assets/js/74.0a9644df.js"><link rel="prefetch" href="/JS-Tips/assets/js/75.62fb2755.js"><link rel="prefetch" href="/JS-Tips/assets/js/76.ad47512e.js"><link rel="prefetch" href="/JS-Tips/assets/js/77.477feb72.js"><link rel="prefetch" href="/JS-Tips/assets/js/78.c25adba5.js"><link rel="prefetch" href="/JS-Tips/assets/js/79.8aa74e79.js"><link rel="prefetch" href="/JS-Tips/assets/js/8.a6800bc2.js"><link rel="prefetch" href="/JS-Tips/assets/js/80.17b4b2e7.js"><link rel="prefetch" href="/JS-Tips/assets/js/81.dd2d80a4.js"><link rel="prefetch" href="/JS-Tips/assets/js/82.656349c1.js"><link rel="prefetch" href="/JS-Tips/assets/js/83.913740d9.js"><link rel="prefetch" href="/JS-Tips/assets/js/84.60662e9d.js"><link rel="prefetch" href="/JS-Tips/assets/js/85.62d4c2a3.js"><link rel="prefetch" href="/JS-Tips/assets/js/86.aed637f8.js"><link rel="prefetch" href="/JS-Tips/assets/js/87.26b6e111.js"><link rel="prefetch" href="/JS-Tips/assets/js/88.e836dbe1.js"><link rel="prefetch" href="/JS-Tips/assets/js/89.7fea9f72.js"><link rel="prefetch" href="/JS-Tips/assets/js/9.06477de5.js"><link rel="prefetch" href="/JS-Tips/assets/js/90.2c439469.js"><link rel="prefetch" href="/JS-Tips/assets/js/91.320bf22e.js"><link rel="prefetch" href="/JS-Tips/assets/js/92.b962b866.js"><link rel="prefetch" href="/JS-Tips/assets/js/93.114ca1f9.js"><link rel="prefetch" href="/JS-Tips/assets/js/94.90c380af.js"><link rel="prefetch" href="/JS-Tips/assets/js/95.b6018eb4.js"><link rel="prefetch" href="/JS-Tips/assets/js/96.44e21ea8.js"><link rel="prefetch" href="/JS-Tips/assets/js/97.f7ad440f.js"><link rel="prefetch" href="/JS-Tips/assets/js/98.1dbd6f00.js"><link rel="prefetch" href="/JS-Tips/assets/js/99.e6733eae.js">
    <link rel="stylesheet" href="/JS-Tips/assets/css/0.styles.4a8c2099.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JS-Tips/" class="home-link router-link-active"><!----> <span class="site-name">蒋微咸博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JS-Tips/" class="nav-link">主页</a></div><div class="nav-item"><a href="/JS-Tips/guide/" class="nav-link">技术栈</a></div><div class="nav-item"><a href="/JS-Tips/posts/" class="nav-link">列表</a></div><div class="nav-item"><a href="/JS-Tips/CHANGELOG.html" class="nav-link">CHANGELOG</a></div><div class="nav-item"><a href="https://github.com/JiangWeixian/JS-Tips/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JS-Tips/" class="nav-link">主页</a></div><div class="nav-item"><a href="/JS-Tips/guide/" class="nav-link">技术栈</a></div><div class="nav-item"><a href="/JS-Tips/posts/" class="nav-link">列表</a></div><div class="nav-item"><a href="/JS-Tips/CHANGELOG.html" class="nav-link">CHANGELOG</a></div><div class="nav-item"><a href="https://github.com/JiangWeixian/JS-Tips/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>浏览器渲染原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-1-前置知识-构建-渲染" class="sidebar-link">1.1. 前置知识 - 构建&amp;渲染</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-2-前置知识-domcontentload-load" class="sidebar-link">1.2. 前置知识 - DOMContentload&amp;load</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-3-初探-浏览器渲染流程" class="sidebar-link">1.3. 初探 - 浏览器渲染流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-3-1-假设没有script" class="sidebar-link">1.3.1. 假设没有SCRIPT</a></li><li class="sidebar-sub-header"><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-3-2-加入script-不含有defer-or-async" class="sidebar-link">1.3.2. 加入SCRIPT(不含有defer or async)</a></li><li class="sidebar-sub-header"><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-3-3-加入script-含有defer-or-async" class="sidebar-link">1.3.3. 加入SCRIPT(含有defer or async)</a></li><li class="sidebar-sub-header"><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-3-4-题外话" class="sidebar-link">1.3.4. 题外话</a></li></ul></li><li><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-4-渲染再次-重新开始" class="sidebar-link">1.4. 渲染再次 - 重新开始</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-5-总结" class="sidebar-link">1.5. 总结</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/JS-Tips/Broswer/Browser-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html#_1-6-链接" class="sidebar-link">1.6. 链接</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浏览器渲染原理"><a href="#浏览器渲染原理" class="header-anchor">#</a> 浏览器渲染原理</h1> <blockquote><p>调整为slow-3g；每次刷新记得clear-cache</p></blockquote> <ul><li><a href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86">浏览器渲染原理</a> <ul><li><a href="#11-%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86---%E6%9E%84%E5%BB%BA%E6%B8%B2%E6%9F%93">1.1. 前置知识 - 构建&amp;渲染</a></li> <li><a href="#12-%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86---domcontentloadload">1.2. 前置知识 - DOMContentload&amp;load</a></li> <li><a href="#13-%E5%88%9D%E6%8E%A2---%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B">1.3. 初探 - 浏览器渲染流程</a> <ul><li><a href="#131-%E5%81%87%E8%AE%BE%E6%B2%A1%E6%9C%89script">1.3.1. 假设没有SCRIPT</a></li> <li><a href="#132-%E5%8A%A0%E5%85%A5script%E4%B8%8D%E5%90%AB%E6%9C%89defer-or-async">1.3.2. 加入SCRIPT(不含有<code>defer or async</code>)</a></li> <li><a href="#133-%E5%8A%A0%E5%85%A5script%E5%90%AB%E6%9C%89defer-or-async">1.3.3. 加入SCRIPT(含有<code>defer or async</code>)</a></li> <li><a href="#134-%E9%A2%98%E5%A4%96%E8%AF%9D">1.3.4. 题外话</a></li></ul></li> <li><a href="#14-%E6%B8%B2%E6%9F%93%E5%86%8D%E6%AC%A1---%E9%87%8D%E6%96%B0%E5%BC%80%E5%A7%8B">1.4. 渲染再次 - 重新开始</a></li> <li><a href="#15-%E6%80%BB%E7%BB%93">1.5. 总结</a></li> <li><a href="#16-%E9%93%BE%E6%8E%A5">1.6. 链接</a></li></ul></li></ul> <h2 id="_1-1-前置知识-构建-渲染"><a href="#_1-1-前置知识-构建-渲染" class="header-anchor">#</a> 1.1. 前置知识 - 构建&amp;渲染</h2> <ul><li><p>构建 - 由文件得到数据结构</p></li> <li><p>渲染 - 就是可以看到呈现的画面 - 是<code>cssdom and htmldom</code>组合构成的行为</p> <p>如果是<code>link html script</code>这样的顺序。</p> <blockquote><p>如果页面中为<code>link html (no defer async)script</code>的构成。只会等待前面两个完成就会出现页面。见<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/docs/Broswer/HTML/script.html" target="_blank" rel="noopener noreferrer">(no defer async)script.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>测试，但是如果<code>script</code>中存在修改样式代码，可能会出现页面重新绘制。<strong>这里需要注意的是，如果script足够小，且运行速度够快，这个过程可以忽略不计。如果需要一定时间下载运行，可能会出现闪烁</strong></p></blockquote> <blockquote><p>如果<code>link html (async defer)script</code>只会等待前面两个完成就会出现页面，<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/defer-script.html" target="_blank" rel="noopener noreferrer">(调整网络为slow-3g)defer-script.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>和<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/async-script.html" target="_blank" rel="noopener noreferrer">(调整网络为slow-3g)async-script.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>都是一样的情况。</p></blockquote> <p>说明了如果是<code>link html script</code>这样的顺序。<code>defer async</code>对 <strong>初始化</strong>渲染结果的影响不大。</p> <p>如果是<code>link script html</code>这样的顺序。</p> <blockquote><p>如果页面中为<code>link html (no defer async)script</code>的构成。那么页面渲染需要等待这三个全部完成。见<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/normal-script%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">(no defer async)normal-script位置测试.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <blockquote><p>如果<code>link html (defer)script</code>只会等待前面两个完成就会出现页面(<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/defer-script%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">(调整网络为slow-3g)defer-script位置测试.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)。如果是<code>async</code>由于加载完成时间不一致，可能还是会出现阻塞的情况(<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/async-script%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">(调整网络为slow-3g)async-script位置测试.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>都是比较大的文件，所以并没有出现阻塞情况)</p></blockquote> <p>说明如果<code>script</code>位置提前，就会体现出<code>defer and script</code>特性。</p></li></ul> <h2 id="_1-2-前置知识-domcontentload-load"><a href="#_1-2-前置知识-domcontentload-load" class="header-anchor">#</a> 1.2. 前置知识 - DOMContentload&amp;load</h2> <p><a href="http://www.alloyteam.com/2014/03/effect-js-css-and-img-event-of-domcontentloaded/" target="_blank" rel="noopener noreferrer">alloyteam参考链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>顺序为<code>DOMContentload-&gt;图片-&gt;load</code></p> <ul><li>DOMContentload - <code>HTMLDOM</code>解析完毕就会触发(不需要等待样式表图片，样式表下载和解析属于同步过程，<strong>但是需要等待所有的JS文件执行完成，见注意1</strong>)</li> <li>load - 在DOMContentload触发之后，加载完成所有资源(包括样式表图片，脚本文件)之后触发</li></ul> <p><strong>注意1：需要等待所有的(normal defer not async)JS文件执行完成</strong></p> <p>在<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/script.html" target="_blank" rel="noopener noreferrer">(no defer async)script.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中 - 将<code>script</code>放在结尾测试，此时脚本下载不干扰<code>dom</code>解析。将<code>script</code>放在头部<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/normal-script%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">(no defer async)normal-script位置测试.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，会干扰dom解析。虽然两个都是在JS脚本完成之后再触发<code>DOMContentload</code>(<code>DOMContentload</code>触发时可以打印出<code>windows.$</code>)。但是实际情况有所不同，前者白屏时间比较短。</p> <p>由于<code>defer</code>的特性在于且 <strong>在<code>DOMCONTENTLOAD</code>之前执行，且下载的时候不干扰dom解析，因此放在那里位置都是可以的。</strong> 见<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/defer-script%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">(调整网络为slow-3g)defer-script位置测试.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>和<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/async-script%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">(调整网络为slow-3g)async-script位置测试.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>测试，无论<code>defer</code>在开头还是结尾(<code>DOMContentload</code>触发时可以打印出<code>windows.$</code>)</p> <p>综合<code>normal and defer</code>测试可以得到结论：</p> <blockquote><p>可以发现<code>DOMCONTENTLOAD</code>等待<code>normal script</code>是因为渲染特性，等待<code>defer</code>是因为其规定在<code>DOMCONTENTLOAD</code>之前执行。</p></blockquote> <blockquote><p>可以发现写在最后可以发现有无<code>defer</code>结果表现一致，这和现代浏览器并行下载<code>script</code>有关。</p></blockquote> <p>对于<code>async</code>，在<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/defer-script%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">(调整网络为slow-3g)defer-script位置测试.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>和<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/async-script%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">(调整网络为slow-3g)async-script位置测试.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>测试发现有所 <strong>不同</strong>(<code>DOMContentload</code>触发时无法打印出<code>windows.$</code>)。说明:</p> <blockquote><p><code>async</code>不会严格等待<code>DOMCONTENTLOAD</code>之前执行，<code>DOMCONTENTLOAD</code>也不会因为<code>async JS</code>文件没有下载完就不触发。<strong>取决于async 是否能够<code>DOMCONTENTLOAD</code>触发时候下载完成</strong> 在上面两个例子由于<code>JS</code>文件比较大，所以在<code>DOMCONTENTLOAD</code>之前并没有下载完全。</p></blockquote> <blockquote><p>如果比较小的文件，可能会在<code>DOMCONTENTLOAD</code>之前完成</p></blockquote> <p><strong>注意2：DOMContentload被css干扰了解释</strong></p> <p>虽然<code>DOMContentload</code>不需要等待样式文件，<a href="">Q&amp;A3</a> - 但是由于<code>css</code>文件会干扰后面的<code>js</code>文件，所以还是看起来会<code>domcontentload</code>被<code>css</code>干扰了。</p> <p>按照<a href="">Q&amp;A2</a>的理论，如果我们把<code>JS</code>文件放在<code>CSS</code>文件之前，就会出现<code>CSS</code>文件阻塞后面的<code>JS</code>文件，结合<a href="">注意1</a>总结，看起来像是<code>DOMContentload</code>被<code>CSS</code>阻塞。就像是<a href="">domcontentload.html</a>测试那样，按照以下步骤：</p> <ol><li>将网络调整为offline</li> <li>然后将网络调整为slow 3g</li> <li>刷新页面，就会在<code>console.log</code>上看到先是<code>domcontentload</code>然后慢慢的才是页面出现样式。证明了<a href="">Q&amp;A2</a>以及<code>domcontentload</code>的确和<code>CSS</code>无关。</li></ol> <p><strong>注意3：由于DOMContentload与CSS无关，所以此时<code>DOMContentload</code>触发的时候并不一定会出现页面</strong></p> <h2 id="_1-3-初探-浏览器渲染流程"><a href="#_1-3-初探-浏览器渲染流程" class="header-anchor">#</a> 1.3. 初探 - 浏览器渲染流程</h2> <p><img src="https://raw.githubusercontent.com/JiangWeixian/JS-Tips/master/Broswer/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.png" alt="渲染流程图"></p> <p>上图表明了<code>html&amp;css&amp;js</code>都会改变<code>dom</code>。由以上可以得到结论</p> <ol><li><code>CSS - CSSDOM</code>下载构建不会影响<code>HTMLDOM</code>构建，但是只有<code>CSSDOM and HTMLDOM</code>全部完成之后才会呈现页面(这部分叫渲染)。同时如果<code>CSS</code>文件后面如果有<code>JS</code>脚本，<code>JS</code>脚本需要等待<code>CSSDOM</code>下载或者解析。</li> <li><code>HTML - HTMLDOM</code></li> <li><code>JS - DOMAPI</code>会影响到<code>CSSDOM</code>以及<code>HTMLDOM</code>。所以如果<code>JS</code>写在<code>CSS or HTML</code>之前，就会干扰<code>CSS or HTML</code>任何一个过程<a href="">Q&amp;A2</a>，所以一般将文件放在页面最下方。</li></ol> <p><strong>题外话</strong></p> <p>如果将<code>JS</code>代码写在<code>HTML</code>结构中。<code>HTML</code>解析中遇到了<code>script</code>标签，浏览器会 <strong>下载以及执行</strong> 执行<code>script</code>标签中的<code>JS</code>代码。</p> <p><strong>所以并不是同步进行，书写顺序十分重要</strong></p> <p>其中前两个会构造<code>DOM TREE</code>，其中<code>CSS</code>是<code>CSS DOM TREE</code>，<code>HTML</code>是<code>HTML DOM TREE</code>。<strong>这三个都会作用页面样式布局</strong>，其顺序如何？有以下几个规则：</p> <h3 id="_1-3-1-假设没有script"><a href="#_1-3-1-假设没有script" class="header-anchor">#</a> 1.3.1. 假设没有SCRIPT</h3> <ul><li><code>CSS</code>构建<code>CSSDOM</code> - 对于<code>link</code>标签来说，其下载过程不会干扰<code>DOM</code>解析(因为<code>CSS</code>文件没有修改添加或删除页面标签的能力，所以构建<code>HTMLDOM</code>的时候也不会)，同理自然构建<code>CSSDOM</code>的过程也是不会。</li> <li>由于<code>CSS</code>文件下载(or 构建)不干扰解析<code>HTML</code>结构，<code>HTML</code>结构同步在构建的过程中。</li></ul> <p><strong>注意：虽然不阻塞构建，但是会影响渲染</strong></p> <p><code>HTML DOM</code>构建完成之后，页面并不会呈现。因为此时<code>CSS</code>文件可能还处于下载以及构建过程中。当<code>CSS and HTML</code>都完成了，页面就会呈现。</p> <h3 id="_1-3-2-加入script-不含有defer-or-async"><a href="#_1-3-2-加入script-不含有defer-or-async" class="header-anchor">#</a> 1.3.2. 加入SCRIPT(不含有<code>defer or async</code>)</h3> <p><code>script</code>文件中可能含有对<code>DOM</code>结构操作(可能是通过标签或许是通过class，以及可能要获取样式)</p> <p><strong>同步&amp;异步</strong></p> <blockquote><p>对于<code>script</code>脚本来说需要考虑同步异步，分别是加载以及执行的同步异步。假设<code>script</code>标签没有<code>defer or async</code>，那么在加载过程会阻塞<code>css or html</code>任何过程。所以<code>script</code>标签一般也是放在最后，保证<code>CSSDOM and HTMLDOM</code>先于<code>script</code>。当<code>script</code>文件加载完成之后，并不会立马执行，出于对 <strong>可能含有对<code>DOM</code>结构操作</strong> 操作的考虑。需要等待<code>cssdom htmldom</code>可以使用之后才能够执行。</p></blockquote> <p>不过此时需要考虑<a href="">Q&amp;A - CSS和JS文件先后问题</a>，JS只会等待前面<code>CSS</code>文件。</p> <p><strong>Q&amp;A1 - 如果JS下载完成，执行时间比较长，会影响dom吗？</strong></p> <p>如同之前总计的<code>cssdom htmldom</code>都完成了，初始页面就已经可以看到了。</p> <blockquote><p>(我觉得可能是因为)这里有一个小细节，如果<code>script</code>在<code>cssdom or htmldom</code>解析完成之后也完成了下载，且执行时间比较久的话。可能会出现白屏的情况，就像是<a href="https://github.com/JiangWeixian/JS-Tips/blob/master/docs/Broswer/HTML/longtimescript.html" target="_blank" rel="noopener noreferrer">longtimescript.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>那样。<strong>干扰页面呈现</strong></p></blockquote> <p>好办法是是将这个长时间的过程异步执行，这个行为就好比模拟<code>script</code>长时间下载。此时不会白屏。<strong>不干扰页面呈现</strong></p> <p><strong>Q&amp;A2 - JS和CSS书写顺序，同步异步关系</strong></p> <p>如果<code>JS</code>前面存在<code>CSS</code>文件才会等待前面的<code>CSS</code>文件下载构建，而不会等待后面<code>CSS</code>文件。</p> <h3 id="_1-3-3-加入script-含有defer-or-async"><a href="#_1-3-3-加入script-含有defer-or-async" class="header-anchor">#</a> 1.3.3. 加入SCRIPT(含有<code>defer or async</code>)</h3> <ol><li>将<code>script</code>标签写到页面最后是优化手段之一</li> <li><code>defer &amp; async</code>属性
<blockquote><p>共同特点 - 加载<code>JS</code>的时候 <strong>不干扰HTML(解析)，但是运行的时候还是会</strong></p></blockquote></li> <li><code>defer</code> - 延迟。
<ul><li>并在<code>HTML-DOM-TREE</code>解析完毕(一个叫<code>DOMContentLoaded</code>事件，在<a href="">前置知识中有解析</a>)之前，且<code>JS</code>加载完毕之后执行(还要受到<a href="">Q&amp;A3</a>提到的等待前面的<code>CSSDOM</code>)</li> <li>所以两个defer脚本的执行顺序是可以保证的。按书写顺序。</li></ul></li> <li><code>async</code> - 同步。
<ul><li>但是是在 <strong>async-JS加载完毕之后</strong> 执行(执行的时候还是干扰了dom，与<code>HTML-DOM-TREE</code>解析完毕无关)。</li> <li><strong>最好不依赖其他脚本</strong>。</li> <li>两个<code>async</code>脚本的执行顺序无法保证。</li></ul></li></ol> <p><strong>defer async domcontentload之间联系</strong></p> <p>见<a href="">domcontentload</a>小结分析。</p> <blockquote><p>大致来说，也就是说<code>async</code>可能在<code>defer</code>之前或者之后都有可能。<code>async</code>在<code>DOMContentLoaded</code>发生之前之后都有可能。</p></blockquote> <p><strong>Q&amp;A3 - <code>defer or async</code>JS和CSS书写顺序，同步异步关系</strong></p> <p><strong>Q&amp;A2</strong> 对这一点也成立。</p> <p><strong>Q&amp;A4 - normal defer or async下载的影响</strong></p> <p>我们知道<code>defer or async</code>下载过程对<code>dom</code>解析不受到影响。那么如果在<code>cssdom htmldom</code>解析完成之后，<code>js</code>仍旧没有下载完？那么页面还会出现吗？</p> <p>在<a href="https://juejin.im/post/59c60691518825396f4f71a1" target="_blank" rel="noopener noreferrer">参考链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 存在一个<code>script</code>在<code>cssdom htmldom</code>都完成了之后，还是处于下载过程中。此时页面出现，单等到该<code>script</code>下载完成，并执行，可能会让原先页面有闪硕。</p> <p>这一点和<code>defer normal async</code>的属性无关。</p> <p><strong>Q&amp;A4 - defer or async下载是否会影响其他资源下载</strong></p> <p>一般来说，我们只会提到<code>defer async</code>不会干扰<code>dom</code>解析，且会并行下载。但是下载的时候是否会影响其他资源下载？这取决于浏览器支持多少个资源并行下载，可能会影响，也可能不会。</p> <h3 id="_1-3-4-题外话"><a href="#_1-3-4-题外话" class="header-anchor">#</a> 1.3.4. 题外话</h3> <p><strong>注意0: - 一般将defer脚本放在最后是为了兼容ie</strong></p> <p><strong>注意1 - 现代浏览器已经支持的是并行下载script资源(在没有设置以上情况下)，但是在不开启<code>defer or async</code>会干扰其他资源下载</strong>。</p> <p><strong>注意2 - chrome调试工具可以看到initator判断是谁发起了js请求。来自script标签说明是动态添加了脚本</strong>。如果是来自<code>parser</code>就是直接写在html里面的。可以<a href="https://github.com/JiangWeixian/JS-Tips/tree/master/Demos/async%26defer" target="_blank" rel="noopener noreferrer">async&amp;defer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的例子。在这个例子中，可以得到：</p> <ol start="0"><li>动态添加的脚本，默认开<code>async</code></li> <li>如果html文件很小，defer async脚本开始加载的事件相同。但是<code>async</code>执行要滞后在<code>defer</code>之后。至少在<code>chrome</code>里面是这样的。</li> <li>而动态添加的脚本 <strong>开始加载的时间</strong>一般是在<code>defer async or other</code>此类写死在<code>html</code>脚本之后的。</li></ol> <p>这就是为什么<a href="https://www.zhihu.com/question/20531965" target="_blank" rel="noopener noreferrer">知乎-某答案network中js加载时间async延后defer那么多<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_1-4-渲染再次-重新开始"><a href="#_1-4-渲染再次-重新开始" class="header-anchor">#</a> 1.4. 渲染再次 - 重新开始</h2> <p>当<code>CSS-DOM-TREE&amp;HTML-DOM-TREE</code>组合完成开始渲染。</p> <p>其实遇到了<code>JS</code>文件，如果其中改变了<code>HTML-DOM-TREE</code>或者是<code>CSS-DOM-TREE</code>。就不得不重新渲染！</p> <p>渲染的程度取决于<code>JS</code>对<code>DOM</code>改变程度，有可能是部分，有可能是全部。</p> <h2 id="_1-5-总结"><a href="#_1-5-总结" class="header-anchor">#</a> 1.5. 总结</h2> <ol><li>现代浏览器一般都支持并行下载(在不开启<code>defer or async</code>会干扰其他资源下载)，所以改变性能只剩下，下载过程和运行过程是否影响DOM</li> <li><code>DOMContentload</code>意味着<code>htmldom</code>解析完成</li> <li>初始页面渲染和<code>cssdom htmldom</code>两个有关</li> <li><code>normal defer</code>一定保证在<code>DOMContentload</code>之前执行，而<code>async</code>无法保证，取决于下载速度和大小。所以<code>DOM</code>操作应该放在<code>defer or normal</code>，<code>async</code>应该是独立以及不涉及<code>dom</code></li> <li>如果是<code>link html js</code>这样的结构，有没有<code>normal defer or async</code>对初始页面渲染没影响。因为此时<code>cssdom htmldom</code>都已经解析完成了。之后运行代码可能会有闪烁。
<ul><li>之所以此时将<code>defer or async</code>的代码放在最后是为了兼容性考虑</li> <li>如果浏览器支持<code>defer or async</code>的话，放在开头位置会优化体验</li></ul></li> <li>如果是<code>js link html</code>和<code>link js html</code>两种结构，注意<code>link</code>的影响。只有这两种情况下<code>defer or async</code>才能够表现出优势。</li> <li>在<code>DOMContentload</code>和<code>load</code>之间还有加载其他资源(包括图片&amp;JS)的过程。</li></ol> <h2 id="_1-6-链接"><a href="#_1-6-链接" class="header-anchor">#</a> 1.6. 链接</h2> <ul><li><a href="http://www.cnblogs.com/Peng2014/p/4687218.html" target="_blank" rel="noopener noreferrer">简单理解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.jianshu.com/p/a32b890c29b1" target="_blank" rel="noopener noreferrer">十分细致的解析<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.w3cplus.com/javascript/building-the-dom-faster-speculative-parsing-async-defer-and-preload.html" target="_blank" rel="noopener noreferrer">提到JS等待CSS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/59c60691518825396f4f71a1" target="_blank" rel="noopener noreferrer">CSS和JS&amp;DOM大量测试<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://zhuanlan.zhihu.com/p/25876048" target="_blank" rel="noopener noreferrer">关于domcontentload<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/27/2020, 5:15:13 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/JS-Tips/assets/js/app.c031357a.js" defer></script><script src="/JS-Tips/assets/js/3.658f9ec3.js" defer></script><script src="/JS-Tips/assets/js/169.3021e95e.js" defer></script>
  </body>
</html>
